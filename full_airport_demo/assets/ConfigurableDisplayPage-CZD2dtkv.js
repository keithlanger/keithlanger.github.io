import{R as De,r as o,j as e,T as rs,g as Re,t as ls,c as M,s as re,a as is,E as cs,b as ds,d as us,e as hs,u as $,f as gt,h as be,P as he,i as ms,C as F,B as fs,k as te,l as we,o as Ge,m as ps,n as tt,p as gs,q as xs,v as bs,w as vs,x as ys,y as st,F as xt,z as js,A as Ns,D as P,G as W,H as T,X as nt,I as Be,J as bt,K as Ce,L as vt,M as yt,S as Cs,N as ws,O as ks,Q as Ss,U as Es}from"./index-VTk34nQk.js";function ge(...t){return t.filter(s=>s!=null).reduce((s,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return s===null?n:function(...l){s.apply(this,l),n.apply(this,l)}},null)}const Rs={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Ts(t,s){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,a=s[n],l=Rs[t];return a+parseInt(re(s,l[0]),10)+parseInt(re(s,l[1]),10)}const zs={[hs]:"collapse",[us]:"collapsing",[ds]:"collapsing",[cs]:"collapse show"},jt=De.forwardRef(({onEnter:t,onEntering:s,onEntered:n,onExit:a,onExiting:l,className:r,children:h,dimension:u="height",in:m=!1,timeout:p=300,mountOnEnter:v=!1,unmountOnExit:f=!1,appear:d=!1,getDimensionValue:y=Ts,...j},E)=>{const C=typeof u=="function"?u():u,x=o.useMemo(()=>ge(b=>{b.style[C]="0"},t),[C,t]),w=o.useMemo(()=>ge(b=>{const R=`scroll${C[0].toUpperCase()}${C.slice(1)}`;b.style[C]=`${b[R]}px`},s),[C,s]),c=o.useMemo(()=>ge(b=>{b.style[C]=null},n),[C,n]),g=o.useMemo(()=>ge(b=>{b.style[C]=`${y(C,b)}px`,is(b)},a),[a,y,C]),N=o.useMemo(()=>ge(b=>{b.style[C]=null},l),[C,l]);return e.jsx(rs,{ref:E,addEndListener:ls,...j,"aria-expanded":j.role?m:null,onEnter:x,onEntering:w,onEntered:c,onExit:g,onExiting:N,childRef:Re(h),in:m,timeout:p,mountOnEnter:v,unmountOnExit:f,appear:d,children:(b,R)=>De.cloneElement(h,{...R,className:M(r,h.props.className,zs[b],C==="width"&&"collapse-horizontal")})})});jt.displayName="Collapse";function Nt(t,s){return Array.isArray(t)?t.includes(s):t===s}const ve=o.createContext({});ve.displayName="AccordionContext";const _e=o.forwardRef(({as:t="div",bsPrefix:s,className:n,children:a,eventKey:l,...r},h)=>{const{activeEventKey:u}=o.useContext(ve);return s=$(s,"accordion-collapse"),e.jsx(jt,{ref:h,in:Nt(u,l),...r,className:M(n,s),children:e.jsx(t,{children:o.Children.only(a)})})});_e.displayName="AccordionCollapse";const Te=o.createContext({eventKey:""});Te.displayName="AccordionItemContext";const Ct=o.forwardRef(({as:t="div",bsPrefix:s,className:n,onEnter:a,onEntering:l,onEntered:r,onExit:h,onExiting:u,onExited:m,...p},v)=>{s=$(s,"accordion-body");const{eventKey:f}=o.useContext(Te);return e.jsx(_e,{eventKey:f,onEnter:a,onEntering:l,onEntered:r,onExit:h,onExiting:u,onExited:m,children:e.jsx(t,{ref:v,...p,className:M(n,s)})})});Ct.displayName="AccordionBody";function Ls(t,s){const{activeEventKey:n,onSelect:a,alwaysOpen:l}=o.useContext(ve);return r=>{let h=t===n?null:t;l&&(Array.isArray(n)?n.includes(t)?h=n.filter(u=>u!==t):h=[...n,t]:h=[t]),a?.(h,r),s?.(r)}}const We=o.forwardRef(({as:t="button",bsPrefix:s,className:n,onClick:a,...l},r)=>{s=$(s,"accordion-button");const{eventKey:h}=o.useContext(Te),u=Ls(h,a),{activeEventKey:m}=o.useContext(ve);return t==="button"&&(l.type="button"),e.jsx(t,{ref:r,onClick:u,...l,"aria-expanded":Array.isArray(m)?m.includes(h):h===m,className:M(n,s,!Nt(m,h)&&"collapsed")})});We.displayName="AccordionButton";const wt=o.forwardRef(({as:t="h2","aria-controls":s,bsPrefix:n,className:a,children:l,onClick:r,...h},u)=>(n=$(n,"accordion-header"),e.jsx(t,{ref:u,...h,className:M(a,n),children:e.jsx(We,{onClick:r,"aria-controls":s,children:l})})));wt.displayName="AccordionHeader";const kt=o.forwardRef(({as:t="div",bsPrefix:s,className:n,eventKey:a,...l},r)=>{s=$(s,"accordion-item");const h=o.useMemo(()=>({eventKey:a}),[a]);return e.jsx(Te.Provider,{value:h,children:e.jsx(t,{ref:r,...l,className:M(n,s)})})});kt.displayName="AccordionItem";const St=o.forwardRef((t,s)=>{const{as:n="div",activeKey:a,bsPrefix:l,className:r,onSelect:h,flush:u,alwaysOpen:m,...p}=gt(t,{activeKey:"onSelect"}),v=$(l,"accordion"),f=o.useMemo(()=>({activeEventKey:a,onSelect:h,alwaysOpen:m}),[a,h,m]);return e.jsx(ve.Provider,{value:f,children:e.jsx(n,{ref:s,...p,className:M(r,v,u&&`${v}-flush`)})})});St.displayName="Accordion";const X=Object.assign(St,{Button:We,Collapse:_e,Item:kt,Header:wt,Body:Ct});function Ms(){const t=o.useRef(!0),s=o.useRef(()=>t.current);return o.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),s.current}function Fs(t){const s=o.useRef(null);return o.useEffect(()=>{s.current=t}),s.current}const As=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",$s=typeof document<"u",at=$s||As?o.useLayoutEffect:o.useEffect;function Is(t){const s=o.useRef(t);return s.current=t,s}function Os(t){const s=Is(t);o.useEffect(()=>()=>s.current(),[])}var Ds=Function.prototype.bind.call(Function.prototype.call,[].slice);function oe(t,s){return Ds(t.querySelectorAll(s))}function Bs(){const[,t]=o.useReducer(s=>s+1,0);return t}function ot(t,s){if(t.contains)return t.contains(s);if(t.compareDocumentPosition)return t===s||!!(t.compareDocumentPosition(s)&16)}const Ue=o.createContext(null),Je=(t,s=null)=>t!=null?String(t):s||null,Ke=o.createContext(null);Ke.displayName="NavContext";const Us="data-rr-ui-",Hs="rrUi";function ze(t){return`${Us}${t}`}function Gs(t){return`${Hs}${t}`}const Et=o.createContext(be?window:void 0);Et.Provider;function Pe(){return o.useContext(Et)}const _s={type:he.string,tooltip:he.bool,as:he.elementType},Le=o.forwardRef(({as:t="div",className:s,type:n="valid",tooltip:a=!1,...l},r)=>e.jsx(t,{...l,ref:r,className:M(s,`${n}-${a?"tooltip":"feedback"}`)}));Le.displayName="Feedback";Le.propTypes=_s;const Q=o.createContext({}),Ve=o.forwardRef(({id:t,bsPrefix:s,className:n,type:a="checkbox",isValid:l=!1,isInvalid:r=!1,as:h="input",...u},m)=>{const{controlId:p}=o.useContext(Q);return s=$(s,"form-check-input"),e.jsx(h,{...u,ref:m,type:a,id:t||p,className:M(n,s,l&&"is-valid",r&&"is-invalid")})});Ve.displayName="FormCheckInput";const ke=o.forwardRef(({bsPrefix:t,className:s,htmlFor:n,...a},l)=>{const{controlId:r}=o.useContext(Q);return t=$(t,"form-check-label"),e.jsx("label",{...a,ref:l,htmlFor:n||r,className:M(s,t)})});ke.displayName="FormCheckLabel";const Rt=o.forwardRef(({id:t,bsPrefix:s,bsSwitchPrefix:n,inline:a=!1,reverse:l=!1,disabled:r=!1,isValid:h=!1,isInvalid:u=!1,feedbackTooltip:m=!1,feedback:p,feedbackType:v,className:f,style:d,title:y="",type:j="checkbox",label:E,children:C,as:x="input",...w},c)=>{s=$(s,"form-check"),n=$(n,"form-switch");const{controlId:g}=o.useContext(Q),N=o.useMemo(()=>({controlId:t||g}),[g,t]),b=!C&&E!=null&&E!==!1||ms(C,ke),R=e.jsx(Ve,{...w,type:j==="switch"?"checkbox":j,ref:c,isValid:h,isInvalid:u,disabled:r,as:x});return e.jsx(Q.Provider,{value:N,children:e.jsx("div",{style:d,className:M(f,b&&s,a&&`${s}-inline`,l&&`${s}-reverse`,j==="switch"&&n),children:C||e.jsxs(e.Fragment,{children:[R,b&&e.jsx(ke,{title:y,children:E}),p&&e.jsx(Le,{type:v,tooltip:m,children:p})]})})})});Rt.displayName="FormCheck";const Se=Object.assign(Rt,{Input:Ve,Label:ke}),Tt=o.forwardRef(({bsPrefix:t,type:s,size:n,htmlSize:a,id:l,className:r,isValid:h=!1,isInvalid:u=!1,plaintext:m,readOnly:p,as:v="input",...f},d)=>{const{controlId:y}=o.useContext(Q);return t=$(t,"form-control"),e.jsx(v,{...f,type:s,size:a,ref:d,readOnly:p,id:l||y,className:M(r,m?`${t}-plaintext`:t,n&&`${t}-${n}`,s==="color"&&`${t}-color`,h&&"is-valid",u&&"is-invalid")})});Tt.displayName="FormControl";const Ws=Object.assign(Tt,{Feedback:Le}),zt=o.forwardRef(({className:t,bsPrefix:s,as:n="div",...a},l)=>(s=$(s,"form-floating"),e.jsx(n,{ref:l,className:M(t,s),...a})));zt.displayName="FormFloating";const Xe=o.forwardRef(({controlId:t,as:s="div",...n},a)=>{const l=o.useMemo(()=>({controlId:t}),[t]);return e.jsx(Q.Provider,{value:l,children:e.jsx(s,{...n,ref:a})})});Xe.displayName="FormGroup";const Lt=o.forwardRef(({as:t="label",bsPrefix:s,column:n=!1,visuallyHidden:a=!1,className:l,htmlFor:r,...h},u)=>{const{controlId:m}=o.useContext(Q);s=$(s,"form-label");let p="col-form-label";typeof n=="string"&&(p=`${p} ${p}-${n}`);const v=M(l,s,a&&"visually-hidden",n&&p);return r=r||m,n?e.jsx(F,{ref:u,as:"label",className:v,htmlFor:r,...h}):e.jsx(t,{ref:u,className:v,htmlFor:r,...h})});Lt.displayName="FormLabel";const Mt=o.forwardRef(({bsPrefix:t,className:s,id:n,...a},l)=>{const{controlId:r}=o.useContext(Q);return t=$(t,"form-range"),e.jsx("input",{...a,type:"range",ref:l,className:M(s,t),id:n||r})});Mt.displayName="FormRange";const Ft=o.forwardRef(({bsPrefix:t,size:s,htmlSize:n,className:a,isValid:l=!1,isInvalid:r=!1,id:h,...u},m)=>{const{controlId:p}=o.useContext(Q);return t=$(t,"form-select"),e.jsx("select",{...u,size:n,ref:m,className:M(a,t,s&&`${t}-${s}`,l&&"is-valid",r&&"is-invalid"),id:h||p})});Ft.displayName="FormSelect";const At=o.forwardRef(({bsPrefix:t,className:s,as:n="small",muted:a,...l},r)=>(t=$(t,"form-text"),e.jsx(n,{...l,ref:r,className:M(s,t,a&&"text-muted")})));At.displayName="FormText";const $t=o.forwardRef((t,s)=>e.jsx(Se,{...t,ref:s,type:"switch"}));$t.displayName="Switch";const Js=Object.assign($t,{Input:Se.Input,Label:Se.Label}),It=o.forwardRef(({bsPrefix:t,className:s,children:n,controlId:a,label:l,...r},h)=>(t=$(t,"form-floating"),e.jsxs(Xe,{ref:h,className:M(s,t),controlId:a,...r,children:[n,e.jsx("label",{htmlFor:a,children:l})]})));It.displayName="FloatingLabel";const Ks={_ref:he.any,validated:he.bool,as:he.elementType},Ye=o.forwardRef(({className:t,validated:s,as:n="form",...a},l)=>e.jsx(n,{...a,ref:l,className:M(t,s&&"was-validated")}));Ye.displayName="Form";Ye.propTypes=Ks;const i=Object.assign(Ye,{Group:Xe,Control:Ws,Floating:zt,Check:Se,Switch:Js,Label:Lt,Text:At,Range:Mt,Select:Ft,FloatingLabel:It}),rt=t=>!t||typeof t=="function"?t:s=>{t.current=s};function Ps(t,s){const n=rt(t),a=rt(s);return l=>{n&&n(l),a&&a(l)}}function Me(t,s){return o.useMemo(()=>Ps(t,s),[t,s])}const Ot=o.createContext(null),Vs=["as","active","eventKey"];function Xs(t,s){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Dt({key:t,onClick:s,active:n,id:a,role:l,disabled:r}){const h=o.useContext(Ue),u=o.useContext(Ke),m=o.useContext(Ot);let p=n;const v={role:l};if(u){!l&&u.role==="tablist"&&(v.role="tab");const f=u.getControllerId(t??null),d=u.getControlledId(t??null);v[ze("event-key")]=t,v.id=f||a,p=n==null&&t!=null?u.activeKey===t:n,(p||!(m!=null&&m.unmountOnExit)&&!(m!=null&&m.mountOnEnter))&&(v["aria-controls"]=d)}return v.role==="tab"&&(v["aria-selected"]=p,p||(v.tabIndex=-1),r&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=te(f=>{r||(s?.(f),t!=null&&h&&!f.isPropagationStopped()&&h(t,f))}),[v,{isActive:p}]}const Bt=o.forwardRef((t,s)=>{let{as:n=fs,active:a,eventKey:l}=t,r=Xs(t,Vs);const[h,u]=Dt(Object.assign({key:Je(l,r.href),active:a},r));return h[ze("active")]=u.isActive,e.jsx(n,Object.assign({},r,h,{ref:s}))});Bt.displayName="NavItem";const Ys=["as","onSelect","activeKey","role","onKeyDown"];function qs(t,s){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;n[a]=t[a]}return n}const lt=()=>{},it=ze("event-key"),Ut=o.forwardRef((t,s)=>{let{as:n="div",onSelect:a,activeKey:l,role:r,onKeyDown:h}=t,u=qs(t,Ys);const m=Bs(),p=o.useRef(!1),v=o.useContext(Ue),f=o.useContext(Ot);let d,y;f&&(r=r||"tablist",l=f.activeKey,d=f.getControlledId,y=f.getControllerId);const j=o.useRef(null),E=c=>{const g=j.current;if(!g)return null;const N=oe(g,`[${it}]:not([aria-disabled=true])`),b=g.querySelector("[aria-selected=true]");if(!b||b!==document.activeElement)return null;const R=N.indexOf(b);if(R===-1)return null;let I=R+c;return I>=N.length&&(I=0),I<0&&(I=N.length-1),N[I]},C=(c,g)=>{c!=null&&(a?.(c,g),v?.(c,g))},x=c=>{if(h?.(c),!f)return;let g;switch(c.key){case"ArrowLeft":case"ArrowUp":g=E(-1);break;case"ArrowRight":case"ArrowDown":g=E(1);break;default:return}g&&(c.preventDefault(),C(g.dataset[Gs("EventKey")]||null,c),p.current=!0,m())};o.useEffect(()=>{if(j.current&&p.current){const c=j.current.querySelector(`[${it}][aria-selected=true]`);c?.focus()}p.current=!1});const w=Me(s,j);return e.jsx(Ue.Provider,{value:C,children:e.jsx(Ke.Provider,{value:{role:r,activeKey:Je(l),getControlledId:d||lt,getControllerId:y||lt},children:e.jsx(n,Object.assign({},u,{onKeyDown:x,ref:w,role:r}))})})});Ut.displayName="Nav";const Qs=Object.assign(Ut,{Item:Bt}),Ht=o.forwardRef(({bsPrefix:t,active:s,disabled:n,eventKey:a,className:l,variant:r,action:h,as:u,...m},p)=>{t=$(t,"list-group-item");const[v,f]=Dt({key:Je(a,m.href),active:s,...m}),d=we(j=>{if(n){j.preventDefault(),j.stopPropagation();return}v.onClick(j)});n&&m.tabIndex===void 0&&(m.tabIndex=-1,m["aria-disabled"]=!0);const y=u||(h?m.href?"a":"button":"div");return e.jsx(y,{ref:p,...m,...v,onClick:d,className:M(l,t,f.isActive&&"active",n&&"disabled",r&&`${t}-${r}`,h&&`${t}-action`)})});Ht.displayName="ListGroupItem";const Gt=o.forwardRef((t,s)=>{const{className:n,bsPrefix:a,variant:l,horizontal:r,numbered:h,as:u="div",...m}=gt(t,{activeKey:"onSelect"}),p=$(a,"list-group");let v;return r&&(v=r===!0?"horizontal":`horizontal-${r}`),e.jsx(Qs,{ref:s,...m,as:u,className:M(n,p,l&&`${p}-${l}`,v&&`${p}-${v}`,h&&`${p}-numbered`)})});Gt.displayName="ListGroup";const Ee=Object.assign(Gt,{Item:Ht});var Ne;function ct(t){if((!Ne&&Ne!==0||t)&&be){var s=document.createElement("div");s.style.position="absolute",s.style.top="-9999px",s.style.width="50px",s.style.height="50px",s.style.overflow="scroll",document.body.appendChild(s),Ne=s.offsetWidth-s.clientWidth,document.body.removeChild(s)}return Ne}function Zs(){return o.useState(null)}function Fe(t){t===void 0&&(t=Ge());try{var s=t.activeElement;return!s||!s.nodeName?null:s}catch{return t.body}}function en(t){const s=o.useRef(t);return s.current=t,s}function tn(t){const s=en(t);o.useEffect(()=>()=>s.current(),[])}function sn(t=document){const s=t.defaultView;return Math.abs(s.innerWidth-t.documentElement.clientWidth)}const dt=ze("modal-open");class qe{constructor({ownerDocument:s,handleContainerOverflow:n=!0,isRTL:a=!1}={}){this.handleContainerOverflow=n,this.isRTL=a,this.modals=[],this.ownerDocument=s}getScrollbarWidth(){return sn(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(s){}removeModalAttributes(s){}setContainerStyle(s){const n={overflow:"hidden"},a=this.isRTL?"paddingLeft":"paddingRight",l=this.getElement();s.style={overflow:l.style.overflow,[a]:l.style[a]},s.scrollBarWidth&&(n[a]=`${parseInt(re(l,a)||"0",10)+s.scrollBarWidth}px`),l.setAttribute(dt,""),re(l,n)}reset(){[...this.modals].forEach(s=>this.remove(s))}removeContainerStyle(s){const n=this.getElement();n.removeAttribute(dt),Object.assign(n.style,s.style)}add(s){let n=this.modals.indexOf(s);return n!==-1||(n=this.modals.length,this.modals.push(s),this.setModalAttributes(s),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(s){const n=this.modals.indexOf(s);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(s))}isTopModal(s){return!!this.modals.length&&this.modals[this.modals.length-1]===s}}const Ae=(t,s)=>be?t==null?(s||Ge()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function nn(t,s){const n=Pe(),[a,l]=o.useState(()=>Ae(t,n?.document));if(!a){const r=Ae(t);r&&l(r)}return o.useEffect(()=>{},[s,a]),o.useEffect(()=>{const r=Ae(t);r!==a&&l(r)},[t,a]),a}function an({children:t,in:s,onExited:n,mountOnEnter:a,unmountOnExit:l}){const r=o.useRef(null),h=o.useRef(s),u=te(n);o.useEffect(()=>{s?h.current=!0:u(r.current)},[s,u]);const m=Me(r,Re(t)),p=o.cloneElement(t,{ref:m});return s?p:l||!h.current&&a?null:p}const on=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function rn(t,s){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;n[a]=t[a]}return n}function ln(t){let{onEnter:s,onEntering:n,onEntered:a,onExit:l,onExiting:r,onExited:h,addEndListener:u,children:m}=t,p=rn(t,on);const v=o.useRef(null),f=Me(v,Re(m)),d=g=>N=>{g&&v.current&&g(v.current,N)},y=o.useCallback(d(s),[s]),j=o.useCallback(d(n),[n]),E=o.useCallback(d(a),[a]),C=o.useCallback(d(l),[l]),x=o.useCallback(d(r),[r]),w=o.useCallback(d(h),[h]),c=o.useCallback(d(u),[u]);return Object.assign({},p,{nodeRef:v},s&&{onEnter:y},n&&{onEntering:j},a&&{onEntered:E},l&&{onExit:C},r&&{onExiting:x},h&&{onExited:w},u&&{addEndListener:c},{children:typeof m=="function"?(g,N)=>m(g,Object.assign({},N,{ref:f})):o.cloneElement(m,{ref:f})})}const cn=["component"];function dn(t,s){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;n[a]=t[a]}return n}const un=o.forwardRef((t,s)=>{let{component:n}=t,a=dn(t,cn);const l=ln(a);return e.jsx(n,Object.assign({ref:s},l))});function hn({in:t,onTransition:s}){const n=o.useRef(null),a=o.useRef(!0),l=te(s);return at(()=>{if(!n.current)return;let r=!1;return l({in:t,element:n.current,initial:a.current,isStale:()=>r}),()=>{r=!0}},[t,l]),at(()=>(a.current=!1,()=>{a.current=!0}),[]),n}function mn({children:t,in:s,onExited:n,onEntered:a,transition:l}){const[r,h]=o.useState(!s);s&&r&&h(!1);const u=hn({in:!!s,onTransition:p=>{const v=()=>{p.isStale()||(p.in?a?.(p.element,p.initial):(h(!0),n?.(p.element)))};Promise.resolve(l(p)).then(v,f=>{throw p.in||h(!0),f})}}),m=Me(u,Re(t));return r&&!s?null:o.cloneElement(t,{ref:m})}function ut(t,s,n){return t?e.jsx(un,Object.assign({},n,{component:t})):s?e.jsx(mn,Object.assign({},n,{transition:s})):e.jsx(an,Object.assign({},n))}const fn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function pn(t,s){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;n[a]=t[a]}return n}let $e;function gn(t){return $e||($e=new qe({ownerDocument:t?.document})),$e}function xn(t){const s=Pe(),n=t||gn(s),a=o.useRef({dialog:null,backdrop:null});return Object.assign(a.current,{add:()=>n.add(a.current),remove:()=>n.remove(a.current),isTopModal:()=>n.isTopModal(a.current),setDialogRef:o.useCallback(l=>{a.current.dialog=l},[]),setBackdropRef:o.useCallback(l=>{a.current.backdrop=l},[])})}const _t=o.forwardRef((t,s)=>{let{show:n=!1,role:a="dialog",className:l,style:r,children:h,backdrop:u=!0,keyboard:m=!0,onBackdropClick:p,onEscapeKeyDown:v,transition:f,runTransition:d,backdropTransition:y,runBackdropTransition:j,autoFocus:E=!0,enforceFocus:C=!0,restoreFocus:x=!0,restoreFocusOptions:w,renderDialog:c,renderBackdrop:g=D=>e.jsx("div",Object.assign({},D)),manager:N,container:b,onShow:R,onHide:I=()=>{},onExit:se,onExited:S,onExiting:V,onEnter:k,onEntering:O,onEntered:A}=t,z=pn(t,fn);const B=Pe(),G=nn(b),U=xn(N),Z=Ms(),Y=Fs(n),[_,J]=o.useState(!n),H=o.useRef(null);o.useImperativeHandle(s,()=>U,[U]),be&&!Y&&n&&(H.current=Fe(B?.document)),n&&_&&J(!1);const K=te(()=>{if(U.add(),ee.current=tt(document,"keydown",me),ae.current=tt(document,"focus",()=>setTimeout(ne),!0),R&&R(),E){var D,je;const pe=Fe((D=(je=U.dialog)==null?void 0:je.ownerDocument)!=null?D:B?.document);U.dialog&&pe&&!ot(U.dialog,pe)&&(H.current=pe,U.dialog.focus())}}),q=te(()=>{if(U.remove(),ee.current==null||ee.current(),ae.current==null||ae.current(),x){var D;(D=H.current)==null||D.focus==null||D.focus(w),H.current=null}});o.useEffect(()=>{!n||!G||K()},[n,G,K]),o.useEffect(()=>{_&&q()},[_,q]),tn(()=>{q()});const ne=te(()=>{if(!C||!Z()||!U.isTopModal())return;const D=Fe(B?.document);U.dialog&&D&&!ot(U.dialog,D)&&U.dialog.focus()}),le=te(D=>{D.target===D.currentTarget&&(p?.(D),u===!0&&I())}),me=te(D=>{m&&gs(D)&&U.isTopModal()&&(v?.(D),D.defaultPrevented||I())}),ae=o.useRef(),ee=o.useRef(),ye=(...D)=>{J(!0),S?.(...D)};if(!G)return null;const ie=Object.assign({role:a,ref:U.setDialogRef,"aria-modal":a==="dialog"?!0:void 0},z,{style:r,className:l,tabIndex:-1});let fe=c?c(ie):e.jsx("div",Object.assign({},ie,{children:o.cloneElement(h,{role:"document"})}));fe=ut(f,d,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:se,onExiting:V,onExited:ye,onEnter:k,onEntering:O,onEntered:A,children:fe});let ce=null;return u&&(ce=g({ref:U.setBackdropRef,onClick:le}),ce=ut(y,j,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ce})),e.jsx(e.Fragment,{children:ps.createPortal(e.jsxs(e.Fragment,{children:[ce,fe]}),G)})});_t.displayName="Modal";const bn=Object.assign(_t,{Manager:qe});function vn(t,s){return t.classList?t.classList.contains(s):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+s+" ")!==-1}function yn(t,s){t.classList?t.classList.add(s):vn(t,s)||(typeof t.className=="string"?t.className=t.className+" "+s:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+s))}function ht(t,s){return t.replace(new RegExp("(^|\\s)"+s+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function jn(t,s){t.classList?t.classList.remove(s):typeof t.className=="string"?t.className=ht(t.className,s):t.setAttribute("class",ht(t.className&&t.className.baseVal||"",s))}const ue={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Nn extends qe{adjustAndStore(s,n,a){const l=n.style[s];n.dataset[s]=l,re(n,{[s]:`${parseFloat(re(n,s))+a}px`})}restore(s,n){const a=n.dataset[s];a!==void 0&&(delete n.dataset[s],re(n,{[s]:a}))}setContainerStyle(s){super.setContainerStyle(s);const n=this.getElement();if(yn(n,"modal-open"),!s.scrollBarWidth)return;const a=this.isRTL?"paddingLeft":"paddingRight",l=this.isRTL?"marginLeft":"marginRight";oe(n,ue.FIXED_CONTENT).forEach(r=>this.adjustAndStore(a,r,s.scrollBarWidth)),oe(n,ue.STICKY_CONTENT).forEach(r=>this.adjustAndStore(l,r,-s.scrollBarWidth)),oe(n,ue.NAVBAR_TOGGLER).forEach(r=>this.adjustAndStore(l,r,s.scrollBarWidth))}removeContainerStyle(s){super.removeContainerStyle(s);const n=this.getElement();jn(n,"modal-open");const a=this.isRTL?"paddingLeft":"paddingRight",l=this.isRTL?"marginLeft":"marginRight";oe(n,ue.FIXED_CONTENT).forEach(r=>this.restore(a,r)),oe(n,ue.STICKY_CONTENT).forEach(r=>this.restore(l,r)),oe(n,ue.NAVBAR_TOGGLER).forEach(r=>this.restore(l,r))}}let Ie;function Cn(t){return Ie||(Ie=new Nn(t)),Ie}const Wt=o.forwardRef(({className:t,bsPrefix:s,as:n="div",...a},l)=>(s=$(s,"modal-body"),e.jsx(n,{ref:l,className:M(t,s),...a})));Wt.displayName="ModalBody";const Jt=o.createContext({onHide(){}}),Qe=o.forwardRef(({bsPrefix:t,className:s,contentClassName:n,centered:a,size:l,fullscreen:r,children:h,scrollable:u,...m},p)=>{t=$(t,"modal");const v=`${t}-dialog`,f=typeof r=="string"?`${t}-fullscreen-${r}`:`${t}-fullscreen`;return e.jsx("div",{...m,ref:p,className:M(v,s,l&&`${t}-${l}`,a&&`${v}-centered`,u&&`${v}-scrollable`,r&&f),children:e.jsx("div",{className:M(`${t}-content`,n),children:h})})});Qe.displayName="ModalDialog";const Kt=o.forwardRef(({className:t,bsPrefix:s,as:n="div",...a},l)=>(s=$(s,"modal-footer"),e.jsx(n,{ref:l,className:M(t,s),...a})));Kt.displayName="ModalFooter";const Pt=o.forwardRef(({closeLabel:t="Close",closeVariant:s,closeButton:n=!1,onHide:a,children:l,...r},h)=>{const u=o.useContext(Jt),m=we(()=>{u?.onHide(),a?.()});return e.jsxs("div",{ref:h,...r,children:[l,n&&e.jsx(xs,{"aria-label":t,variant:s,onClick:m})]})});Pt.displayName="AbstractModalHeader";const Vt=o.forwardRef(({bsPrefix:t,className:s,closeLabel:n="Close",closeButton:a=!1,...l},r)=>(t=$(t,"modal-header"),e.jsx(Pt,{ref:r,...l,className:M(s,t),closeLabel:n,closeButton:a})));Vt.displayName="ModalHeader";const wn=bs("h4"),Xt=o.forwardRef(({className:t,bsPrefix:s,as:n=wn,...a},l)=>(s=$(s,"modal-title"),e.jsx(n,{ref:l,className:M(t,s),...a})));Xt.displayName="ModalTitle";function kn(t){return e.jsx(xt,{...t,timeout:null})}function Sn(t){return e.jsx(xt,{...t,timeout:null})}const Yt=o.forwardRef(({bsPrefix:t,className:s,style:n,dialogClassName:a,contentClassName:l,children:r,dialogAs:h=Qe,"data-bs-theme":u,"aria-labelledby":m,"aria-describedby":p,"aria-label":v,show:f=!1,animation:d=!0,backdrop:y=!0,keyboard:j=!0,onEscapeKeyDown:E,onShow:C,onHide:x,container:w,autoFocus:c=!0,enforceFocus:g=!0,restoreFocus:N=!0,restoreFocusOptions:b,onEntered:R,onExit:I,onExiting:se,onEnter:S,onEntering:V,onExited:k,backdropClassName:O,manager:A,...z},B)=>{const[G,U]=o.useState({}),[Z,Y]=o.useState(!1),_=o.useRef(!1),J=o.useRef(!1),H=o.useRef(null),[K,q]=Zs(),ne=vs(B,q),le=we(x),me=ys();t=$(t,"modal");const ae=o.useMemo(()=>({onHide:le}),[le]);function ee(){return A||Cn({isRTL:me})}function ye(L){if(!be)return;const de=ee().getScrollbarWidth()>0,et=L.scrollHeight>Ge(L).documentElement.clientHeight;U({paddingRight:de&&!et?ct():void 0,paddingLeft:!de&&et?ct():void 0})}const ie=we(()=>{K&&ye(K.dialog)});Os(()=>{st(window,"resize",ie),H.current==null||H.current()});const fe=()=>{_.current=!0},ce=L=>{_.current&&K&&L.target===K.dialog&&(J.current=!0),_.current=!1},D=()=>{Y(!0),H.current=Ns(K.dialog,()=>{Y(!1)})},je=L=>{L.target===L.currentTarget&&D()},pe=L=>{if(y==="static"){je(L);return}if(J.current||L.target!==L.currentTarget){J.current=!1;return}x?.()},Zt=L=>{j?E?.(L):(L.preventDefault(),y==="static"&&D())},es=(L,de)=>{L&&ye(L),S?.(L,de)},ts=L=>{H.current==null||H.current(),I?.(L)},ss=(L,de)=>{V?.(L,de),js(window,"resize",ie)},ns=L=>{L&&(L.style.display=""),k?.(L),st(window,"resize",ie)},as=o.useCallback(L=>e.jsx("div",{...L,className:M(`${t}-backdrop`,O,!d&&"show")}),[d,O,t]),Ze={...n,...G};Ze.display="block";const os=L=>e.jsx("div",{role:"dialog",...L,style:Ze,className:M(s,t,Z&&`${t}-static`,!d&&"show"),onClick:y?pe:void 0,onMouseUp:ce,"data-bs-theme":u,"aria-label":v,"aria-labelledby":m,"aria-describedby":p,children:e.jsx(h,{...z,onMouseDown:fe,className:a,contentClassName:l,children:r})});return e.jsx(Jt.Provider,{value:ae,children:e.jsx(bn,{show:f,ref:ne,backdrop:y,container:w,keyboard:!0,autoFocus:c,enforceFocus:g,restoreFocus:N,restoreFocusOptions:b,onEscapeKeyDown:Zt,onShow:C,onHide:x,onEnter:es,onEntering:ss,onEntered:R,onExit:ts,onExiting:se,onExited:ns,manager:ee(),transition:d?kn:void 0,backdropTransition:d?Sn:void 0,renderBackdrop:as,renderDialog:os})})});Yt.displayName="Modal";const xe=Object.assign(Yt,{Body:Wt,Header:Vt,Title:Xt,Footer:Kt,Dialog:Qe,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Rn=P("chevron-left",En);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zn=P("chevron-right",Tn);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],He=P("code",Ln);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Fn=P("eye-off",Mn);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],$n=P("maximize",An);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],On=P("move",In);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Bn=P("palette",Dn);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qt=P("plus",Un);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Gn=P("save",Hn);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],mt=P("square-pen",_n);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Jn=P("sun",Wn);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qt=P("trash-2",Kn);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Vn=P("upload",Pn),Xn=({style:t,onChange:s})=>{const n=a=>{s({...t,...a})};return e.jsxs("div",{className:"element-style-editor",children:[e.jsx("h6",{className:"text-light mb-3",children:"Style Properties"}),e.jsxs(W,{children:[e.jsx(F,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Font Size"}),e.jsx(i.Control,{type:"text",value:t.fontSize||"1rem",onChange:a=>n({fontSize:a.target.value}),className:"bg-dark text-light border-secondary",placeholder:"e.g., 1.2rem, 18px"})]})}),e.jsx(F,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Font Weight"}),e.jsxs(i.Select,{value:t.fontWeight||"normal",onChange:a=>n({fontWeight:a.target.value}),className:"bg-dark text-light border-secondary",children:[e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"bold",children:"Bold"}),e.jsx("option",{value:"600",children:"Semi-Bold"}),e.jsx("option",{value:"300",children:"Light"})]})]})})]}),e.jsxs(W,{children:[e.jsx(F,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Text Color"}),e.jsx(i.Control,{type:"color",value:t.color||"#ffffff",onChange:a=>n({color:a.target.value}),className:"bg-dark border-secondary"})]})}),e.jsx(F,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Background Color"}),e.jsx(i.Control,{type:"color",value:t.backgroundColor?.replace("rgba(","").replace(")","").split(",").slice(0,3).join(",")||"#000000",onChange:a=>n({backgroundColor:a.target.value}),className:"bg-dark border-secondary"})]})})]}),e.jsxs(W,{children:[e.jsx(F,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Text Align"}),e.jsxs(i.Select,{value:t.textAlign||"left",onChange:a=>n({textAlign:a.target.value}),className:"bg-dark text-light border-secondary",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"right",children:"Right"})]})]})}),e.jsx(F,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Background Opacity"}),e.jsx(i.Range,{min:0,max:1,step:.1,value:t.opacity||1,onChange:a=>n({opacity:parseFloat(a.target.value)}),className:"bg-dark"}),e.jsxs("small",{className:"text-muted",children:[((t.opacity||1)*100).toFixed(0),"%"]})]})})]}),e.jsxs(W,{children:[e.jsx(F,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Padding"}),e.jsx(i.Control,{type:"text",value:t.padding||"8px",onChange:a=>n({padding:a.target.value}),className:"bg-dark text-light border-secondary",placeholder:"e.g., 8px, 10px 15px"})]})}),e.jsx(F,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Border Radius"}),e.jsx(i.Control,{type:"text",value:t.borderRadius||"0px",onChange:a=>n({borderRadius:a.target.value}),className:"bg-dark text-light border-secondary",placeholder:"e.g., 4px, 8px"})]})})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Border"}),e.jsx(i.Control,{type:"text",value:t.border||"",onChange:a=>n({border:a.target.value}),className:"bg-dark text-light border-secondary",placeholder:"e.g., 1px solid #ccc"})]})]})},Yn=({background:t,onChange:s})=>{const n=r=>{s({...t,...r})},a=(r,h)=>{const u=r.target.files?.[0];if(u){const m=URL.createObjectURL(u);n(h==="image"?{type:"image",imageUrl:m}:{type:"video",videoUrl:m})}},l=()=>{n({type:"color",color:"#000000"})};return e.jsxs("div",{className:"background-editor",children:[e.jsx("h6",{className:"text-light mb-3",children:"Background Settings"}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Background Type"}),e.jsxs(i.Select,{value:t.type,onChange:r=>n({type:r.target.value}),className:"bg-dark text-light border-secondary",children:[e.jsx("option",{value:"color",children:"Solid Color"}),e.jsx("option",{value:"image",children:"Image"}),e.jsx("option",{value:"video",children:"Video"})]})]}),t.type==="color"&&e.jsx(W,{children:e.jsx(F,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Background Color"}),e.jsx(i.Control,{type:"color",value:t.color||"#000000",onChange:r=>n({color:r.target.value}),className:"bg-dark border-secondary"})]})})}),t.type==="image"&&e.jsxs("div",{children:[e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Image URL"}),e.jsx(i.Control,{type:"text",value:t.imageUrl||"",onChange:r=>n({imageUrl:r.target.value}),className:"bg-dark text-light border-secondary",placeholder:"Enter image URL or upload file"})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Upload Image"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(i.Control,{type:"file",accept:"image/*",onChange:r=>a(r,"image"),className:"bg-dark text-light border-secondary"}),e.jsx(T,{variant:"outline-secondary",size:"sm",onClick:l,children:e.jsx(nt,{size:16})})]})]}),e.jsxs(W,{children:[e.jsx(F,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Image Size"}),e.jsxs(i.Select,{value:t.imageSize||"cover",onChange:r=>n({imageSize:r.target.value}),className:"bg-dark text-light border-secondary",children:[e.jsx("option",{value:"cover",children:"Cover"}),e.jsx("option",{value:"contain",children:"Contain"}),e.jsx("option",{value:"auto",children:"Auto"}),e.jsx("option",{value:"100% 100%",children:"Stretch"})]})]})}),e.jsx(F,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Image Position"}),e.jsxs(i.Select,{value:t.imagePosition||"center center",onChange:r=>n({imagePosition:r.target.value}),className:"bg-dark text-light border-secondary",children:[e.jsx("option",{value:"center center",children:"Center"}),e.jsx("option",{value:"top left",children:"Top Left"}),e.jsx("option",{value:"top center",children:"Top Center"}),e.jsx("option",{value:"top right",children:"Top Right"}),e.jsx("option",{value:"center left",children:"Center Left"}),e.jsx("option",{value:"center right",children:"Center Right"}),e.jsx("option",{value:"bottom left",children:"Bottom Left"}),e.jsx("option",{value:"bottom center",children:"Bottom Center"}),e.jsx("option",{value:"bottom right",children:"Bottom Right"})]})]})})]})]}),t.type==="video"&&e.jsxs("div",{children:[e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Video URL"}),e.jsx(i.Control,{type:"text",value:t.videoUrl||"",onChange:r=>n({videoUrl:r.target.value}),className:"bg-dark text-light border-secondary",placeholder:"Enter video URL or upload file"})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Upload Video"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(i.Control,{type:"file",accept:"video/*",onChange:r=>a(r,"video"),className:"bg-dark text-light border-secondary"}),e.jsx(T,{variant:"outline-secondary",size:"sm",onClick:l,children:e.jsx(nt,{size:16})})]})]}),e.jsxs(W,{children:[e.jsx(F,{md:6,children:e.jsx(i.Group,{className:"mb-3",children:e.jsx(i.Check,{type:"checkbox",label:"Auto Play",checked:t.videoAutoplay||!1,onChange:r=>n({videoAutoplay:r.target.checked}),className:"text-light"})})}),e.jsx(F,{md:6,children:e.jsx(i.Group,{className:"mb-3",children:e.jsx(i.Check,{type:"checkbox",label:"Loop",checked:t.videoLoop||!1,onChange:r=>n({videoLoop:r.target.checked}),className:"text-light"})})})]})]}),(t.type==="image"||t.type==="video")&&e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Overlay Opacity"}),e.jsx(i.Range,{min:0,max:1,step:.1,value:t.overlay||0,onChange:r=>n({overlay:parseFloat(r.target.value)}),className:"bg-dark"}),e.jsxs("small",{className:"text-muted",children:[((t.overlay||0)*100).toFixed(0),"% dark overlay"]})]})]})},ft=[{field:"flightNumber",defaultLabel:"Flight #"},{field:"airlineCode",defaultLabel:"Airline Code"},{field:"airline",defaultLabel:"Airline"},{field:"destination",defaultLabel:"Destination"},{field:"scheduledTime",defaultLabel:"Scheduled"},{field:"actualTime",defaultLabel:"Actual"},{field:"estimatedTime",defaultLabel:"Estimated"},{field:"gate",defaultLabel:"Gate"},{field:"terminal",defaultLabel:"Terminal"},{field:"status",defaultLabel:"Status"},{field:"aircraft",defaultLabel:"Aircraft"},{field:"claim",defaultLabel:"Claim"}],qn=({columns:t,tableOptions:s={},onChange:n,onTableOptionsChange:a})=>{const[l,r]=o.useState(!1),[h,u]=o.useState(""),[m,p]=o.useState(""),v=c=>{const g=ft.find(b=>b.field===c);if(!g)return;const N={field:c,label:g.defaultLabel,width:"auto",align:"left",visible:!0,style:{fontSize:"0.9rem",padding:"0.5rem"}};n([...t,N])},f=(c,g)=>{const N=[...t];N[c]={...N[c],...g},n(N)},d=c=>{const g=t.filter((N,b)=>b!==c);n(g)},y=(c,g)=>{const N=g==="up"?c-1:c+1;if(N<0||N>=t.length)return;const b=[...t],[R]=b.splice(c,1);b.splice(N,0,R),n(b)},j=c=>{f(c,{visible:!t[c].visible})},E=()=>{u(JSON.stringify({columns:t,tableOptions:s},null,2)),p(""),r(!0)},C=()=>{r(!1),p("")},x=()=>{try{const c=JSON.parse(h);if(!c.columns||!Array.isArray(c.columns))throw new Error('Configuration must have a "columns" array');n(c.columns),c.tableOptions&&a(c.tableOptions),p(""),r(!1)}catch(c){p(c instanceof Error?c.message:"Invalid JSON format")}},w=ft.filter(c=>!t.some(g=>g.field===c.field));return e.jsxs("div",{className:"flight-table-configurator",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("h6",{className:"text-light mb-0",children:"Flight Table Configuration"}),e.jsxs(T,{variant:"outline-info",size:"sm",onClick:E,className:"d-flex align-items-center",children:[e.jsx(He,{size:14,className:"me-1"}),"Edit JSON"]})]}),l&&e.jsxs("div",{className:"mb-4 p-3 border border-secondary rounded bg-dark",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("h6",{className:"text-light mb-0",children:"Configuration JSON Editor"}),e.jsxs("div",{children:[e.jsx(T,{variant:"success",size:"sm",onClick:x,className:"me-2",children:"Apply"}),e.jsx(T,{variant:"secondary",size:"sm",onClick:C,children:"Cancel"})]})]}),m&&e.jsx(Be,{variant:"danger",className:"mb-2 py-2",children:e.jsx("small",{children:m})}),e.jsx(i.Control,{as:"textarea",rows:12,value:h,onChange:c=>u(c.target.value),className:"bg-dark text-light border-secondary font-monospace",style:{fontSize:"0.8rem"},placeholder:"Paste your configuration JSON here..."}),e.jsx("small",{className:"text-muted d-block mt-1",children:"Edit the JSON configuration directly. Make sure to maintain valid JSON format."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i.Label,{className:"text-light mb-2",children:"Table Options"}),e.jsx(i.Check,{type:"checkbox",label:"Show Column Headers",checked:s.showHeaders!==!1,onChange:c=>a({...s,showHeaders:c.target.checked}),className:"text-light mb-2"}),e.jsx(i.Check,{type:"checkbox",label:"Row Striping",checked:s.striped||!1,onChange:c=>a({...s,striped:c.target.checked}),className:"text-light mb-2"}),e.jsx(i.Check,{type:"checkbox",label:"Row Hover Effects",checked:s.hover||!1,onChange:c=>a({...s,hover:c.target.checked}),className:"text-light"})]}),s.showHeaders!==!1&&e.jsxs("div",{className:"mb-4",children:[e.jsx(i.Label,{className:"text-light mb-2",children:"Header Styling"}),e.jsxs(W,{children:[e.jsx(F,{md:6,children:e.jsxs(i.Group,{className:"mb-2",children:[e.jsx(i.Label,{className:"text-light small",children:"Header Background"}),e.jsx(i.Control,{type:"color",size:"sm",value:s.headerStyle?.backgroundColor?.replace("rgba(","").replace(")","").split(",").slice(0,3).join(",")||"#0066cc",onChange:c=>a({...s,headerStyle:{...s.headerStyle,backgroundColor:c.target.value}}),className:"bg-dark border-secondary"})]})}),e.jsx(F,{md:6,children:e.jsxs(i.Group,{className:"mb-2",children:[e.jsx(i.Label,{className:"text-light small",children:"Header Text Color"}),e.jsx(i.Control,{type:"color",size:"sm",value:s.headerStyle?.color||"#ffffff",onChange:c=>a({...s,headerStyle:{...s.headerStyle,color:c.target.value}}),className:"bg-dark border-secondary"})]})})]}),e.jsx(W,{children:e.jsx(F,{md:12,children:e.jsxs(i.Group,{className:"mb-2",children:[e.jsx(i.Label,{className:"text-light small",children:"Header Font Size"}),e.jsx(i.Control,{type:"text",size:"sm",value:s.headerStyle?.fontSize||"0.9rem",onChange:c=>a({...s,headerStyle:{...s.headerStyle,fontSize:c.target.value}}),className:"bg-dark text-light border-secondary",placeholder:"0.9rem"})]})})})]}),e.jsx("h6",{className:"text-light mb-3",children:"Column Configuration"}),w.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Add Column"}),e.jsx("div",{className:"d-grid gap-1",children:w.map(c=>e.jsxs(T,{variant:"outline-primary",size:"sm",onClick:()=>v(c.field),children:[e.jsx(qt,{size:14,className:"me-2"}),c.defaultLabel]},c.field))})]}),e.jsx(Ee,{variant:"flush",className:"mb-3",children:t.map((c,g)=>e.jsxs(Ee.Item,{className:"bg-dark border-secondary p-2",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsxs("div",{className:"d-flex justify-content-center align-items-center mb-2",children:[e.jsx(bt,{bg:c.visible?"primary":"secondary",className:"px-3 py-2 me-3",style:{fontSize:"0.9rem",fontWeight:"bold"},children:c.field.toUpperCase()}),e.jsx(T,{variant:"outline-secondary",size:"sm",className:"ms-1",onClick:()=>j(g),title:c.visible?"Hide Column":"Show Column",children:c.visible?e.jsx(Ce,{size:14}):e.jsx(Fn,{size:14})}),e.jsx(T,{variant:"outline-secondary",size:"sm",className:"ms-1",disabled:g===0,onClick:()=>y(g,"up"),title:"Move Up",children:e.jsx(vt,{size:14})}),e.jsx(T,{variant:"outline-secondary",size:"sm",className:"ms-1",disabled:g===t.length-1,onClick:()=>y(g,"down"),title:"Move Down",children:e.jsx(yt,{size:14})}),e.jsx(T,{variant:"outline-danger",size:"sm",className:"ms-1",onClick:()=>d(g),title:"Delete Column",children:e.jsx(Qt,{size:14})})]}),e.jsx("hr",{className:"border-secondary my-2"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(i.Label,{className:"text-light small",children:"Column Header Text"}),e.jsx(i.Control,{type:"text",size:"sm",value:c.label,onChange:N=>f(g,{label:N.target.value}),className:"bg-dark text-light border-secondary",placeholder:"Column header text"})]}),e.jsx(W,{children:e.jsx(F,{md:12,children:e.jsxs(i.Group,{children:[e.jsx(i.Label,{className:"text-light small",children:"Width"}),e.jsx("div",{className:"d-flex mb-2",children:e.jsx(i.Control,{type:"text",size:"sm",value:c.width||"auto",onChange:N=>f(g,{width:N.target.value}),className:"bg-dark text-light border-secondary",placeholder:"auto, 15%, 25%",style:{minWidth:"120px"}})}),e.jsxs("div",{className:"d-flex flex-wrap gap-1",style:{maxWidth:"100%"},children:[e.jsx(T,{variant:"outline-info",size:"sm",className:"px-2 py-1",style:{fontSize:"0.7rem",minHeight:"24px",minWidth:"35px"},onClick:()=>f(g,{width:"auto"}),disabled:!c.width||c.width==="auto",children:"auto"}),e.jsx(T,{variant:"outline-info",size:"sm",className:"px-2 py-1",style:{fontSize:"0.7rem",minHeight:"24px",minWidth:"35px"},onClick:()=>{console.log("Button clicked: 10% for column index:",g),f(g,{width:"10%"})},disabled:c.width==="10%",children:"10%"}),e.jsx(T,{variant:"outline-info",size:"sm",className:"px-2 py-1",style:{fontSize:"0.7rem",minHeight:"24px",minWidth:"35px"},onClick:()=>{console.log("Button clicked: 15% for column index:",g),f(g,{width:"15%"})},disabled:c.width==="15%",children:"15%"}),e.jsx(T,{variant:"outline-info",size:"sm",className:"px-2 py-1",style:{fontSize:"0.7rem",minHeight:"24px",minWidth:"35px"},onClick:()=>{console.log("Button clicked: 20% for column index:",g),f(g,{width:"20%"})},disabled:c.width==="20%",children:"20%"}),e.jsx(T,{variant:"outline-info",size:"sm",className:"px-2 py-1",style:{fontSize:"0.7rem",minHeight:"24px",minWidth:"35px"},onClick:()=>{console.log("Button clicked: 25% for column index:",g),f(g,{width:"25%"})},disabled:c.width==="25%",children:"25%"}),e.jsx(T,{variant:"outline-info",size:"sm",className:"px-2 py-1",style:{fontSize:"0.7rem",minHeight:"24px",minWidth:"35px"},onClick:()=>{console.log("Button clicked: 30% for column index:",g),f(g,{width:"30%"})},disabled:c.width==="30%",children:"30%"})]})]})})}),e.jsxs(W,{children:[e.jsx(F,{md:6,children:e.jsxs(i.Group,{children:[e.jsx(i.Label,{className:"text-light small",children:"Align"}),e.jsxs(i.Select,{size:"sm",value:c.align||"left",onChange:N=>f(g,{align:N.target.value}),className:"bg-dark text-light border-secondary",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"right",children:"Right"})]})]})}),e.jsx(F,{md:6,children:e.jsxs(i.Group,{children:[e.jsx(i.Label,{className:"text-light small",children:"Font Size"}),e.jsx(i.Control,{type:"text",size:"sm",value:c.style?.fontSize||"0.9rem",onChange:N=>f(g,{style:{...c.style,fontSize:N.target.value}}),className:"bg-dark text-light border-secondary",placeholder:"0.9rem"})]})})]}),e.jsxs(W,{className:"mt-2",children:[e.jsx(F,{md:6,children:e.jsxs(i.Group,{children:[e.jsx(i.Label,{className:"text-light small",children:"Text Color"}),e.jsx(i.Control,{type:"color",size:"sm",value:c.style?.color||"#ffffff",onChange:N=>f(g,{style:{...c.style,color:N.target.value}}),className:"bg-dark border-secondary"})]})}),e.jsx(F,{md:6,children:e.jsxs(i.Group,{children:[e.jsx(i.Label,{className:"text-light small",children:"Background"}),e.jsx(i.Control,{type:"color",size:"sm",value:c.style?.backgroundColor?.replace("rgba(","").replace(")","").split(",").slice(0,3).join(",")||"#000000",onChange:N=>f(g,{style:{...c.style,backgroundColor:N.target.value}}),className:"bg-dark border-secondary"})]})})]}),e.jsx(W,{className:"mt-3",children:e.jsx(F,{xs:12,children:e.jsx(i.Label,{className:"text-light small",children:"Field Formatting"})})}),["scheduledTime","actualTime","estimatedTime"].includes(c.field)&&e.jsx(W,{children:e.jsx(F,{md:6,children:e.jsxs(i.Group,{children:[e.jsx(i.Label,{className:"text-light small",children:"Time Format"}),e.jsxs(i.Select,{size:"sm",value:c.formatting?.timeFormat||"24h",onChange:N=>f(g,{formatting:{...c.formatting,timeFormat:N.target.value}}),className:"bg-dark text-light border-secondary",children:[e.jsx("option",{value:"24h",children:"24 Hour (14:30)"}),e.jsx("option",{value:"12h",children:"12 Hour (2:30 PM)"})]})]})})}),!["scheduledTime","actualTime","estimatedTime"].includes(c.field)&&e.jsx(W,{children:e.jsx(F,{md:12,children:e.jsxs(i.Group,{children:[e.jsx(i.Label,{className:"text-light small",children:"Text Case"}),e.jsxs(i.Select,{size:"sm",value:c.formatting?.textCase||"none",onChange:N=>f(g,{formatting:{...c.formatting,textCase:N.target.value}}),className:"bg-dark text-light border-secondary",children:[e.jsx("option",{value:"none",children:"Normal Case"}),e.jsx("option",{value:"uppercase",children:"UPPERCASE"}),e.jsx("option",{value:"lowercase",children:"lowercase"}),e.jsx("option",{value:"capitalize",children:"Capitalize"})]})]})})})]},`${c.field}-${g}`))}),t.length===0&&e.jsxs("div",{className:"text-center text-muted py-3",children:[e.jsx("p",{children:"No columns configured"}),e.jsx("small",{children:"Add columns using the buttons above"})]})]})},Qn=[{value:"header",label:"Header"},{value:"text",label:"Text"},{value:"flight-table",label:"Flight Table"},{value:"image",label:"Image"},{value:"clock",label:"Clock"},{value:"weather",label:"Weather"}],Zn=[{value:"flightNumber",label:"Flight Number"},{value:"airlineCode",label:"Airline Code"},{value:"airline",label:"Airline"},{value:"destination",label:"Destination"},{value:"scheduledTime",label:"Scheduled Time"},{value:"actualTime",label:"Actual Time"},{value:"estimatedTime",label:"Estimated Time"},{value:"gate",label:"Gate"},{value:"terminal",label:"Terminal"},{value:"status",label:"Status"},{value:"aircraft",label:"Aircraft"},{value:"claim",label:"Baggage Claim"}],ea=({config:t,selectedElement:s,onConfigChange:n,onElementSelect:a})=>{const[l,r]=o.useState("0"),h=d=>{const y={id:`element-${Date.now()}`,type:d,content:d==="header"?"New Header":d==="text"?"New Text":"",position:{x:10,y:10},size:{width:d==="flight-table"?80:30,height:d==="flight-table"?60:d==="header"?10:5},style:{fontSize:d==="header"?"2rem":"1rem",color:"#ffffff",backgroundColor:d==="flight-table"?"rgba(255, 255, 255, 0.05)":"transparent"},...d==="flight-table"&&{fields:["flightNumber","airline","destination","scheduledTime","gate","status"],dataSetName:"flights",tableOptions:{striped:!0,hover:!0,headerStyle:{backgroundColor:"rgba(0, 102, 204, 0.8)",color:"#ffffff",fontWeight:"bold"}}},...d==="clock"&&{clockFormat:"24h"}},j={...t,elements:[...t.elements,y]};n(j),a(y.id)},u=d=>{const y={...t,elements:t.elements.filter(j=>j.id!==d)};n(y),s===d&&a(null)},m=(d,y)=>{const j={...t,elements:t.elements.map(E=>E.id===d?{...E,...y}:E)};n(j)},p=d=>{n({...t,...d})},v=(d,y)=>{const j=t.elements.findIndex(w=>w.id===d);if(j===-1)return;const E=y==="up"?j-1:j+1;if(E<0||E>=t.elements.length)return;const C=[...t.elements],[x]=C.splice(j,1);C.splice(E,0,x),p({elements:C})},f=s?t.elements.find(d=>d.id===s):null;return e.jsx("div",{className:"display-editor",children:e.jsxs(X,{activeKey:l,onSelect:d=>r(d),children:[e.jsxs(X.Item,{eventKey:"0",children:[e.jsxs(X.Header,{children:[e.jsx(Cs,{size:16,className:"me-2"}),"Display Settings"]}),e.jsxs(X.Body,{children:[e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Display Name"}),e.jsx(i.Control,{type:"text",value:t.name,onChange:d=>p({name:d.target.value}),className:"bg-dark text-light border-secondary"})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Display Type"}),e.jsxs(i.Select,{value:t.type,onChange:d=>p({type:d.target.value}),className:"bg-dark text-light border-secondary",children:[e.jsx("option",{value:"departures",children:"Departures"}),e.jsx("option",{value:"arrivals",children:"Arrivals"}),e.jsx("option",{value:"mixed",children:"Mixed"})]})]}),e.jsx(Yn,{background:t.background,onChange:d=>p({background:d})})]})]}),e.jsxs(X.Item,{eventKey:"1",children:[e.jsxs(X.Header,{children:[e.jsx(On,{size:16,className:"me-2"}),"Elements (",t.elements.length,")"]}),e.jsxs(X.Body,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Add Element"}),e.jsx("div",{className:"d-grid gap-2",children:Qn.map(d=>e.jsxs(T,{variant:"outline-primary",size:"sm",onClick:()=>h(d.value),children:[e.jsx(qt,{size:14,className:"me-2"}),d.label]},d.value))})]}),e.jsx(Ee,{variant:"flush",children:t.elements.map((d,y)=>e.jsxs(Ee.Item,{className:`bg-dark border-secondary d-flex justify-content-between align-items-center ${s===d.id?"border-primary":""}`,onClick:()=>a(d.id),style:{cursor:"pointer"},children:[e.jsxs("div",{className:"text-light d-flex align-items-center",children:[e.jsx(bt,{bg:"secondary",className:"me-2",children:d.type}),d.content||`${d.type} element`]}),e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx(T,{variant:"outline-secondary",size:"sm",disabled:y===0,onClick:j=>{j.stopPropagation(),v(d.id,"up")},title:"Move Up",children:e.jsx(vt,{size:14})}),e.jsx(T,{variant:"outline-secondary",size:"sm",disabled:y===t.elements.length-1,onClick:j=>{j.stopPropagation(),v(d.id,"down")},title:"Move Down",children:e.jsx(yt,{size:14})}),e.jsx(T,{variant:"outline-danger",size:"sm",onClick:j=>{j.stopPropagation(),u(d.id)},title:"Delete",children:e.jsx(Qt,{size:14})})]})]},d.id))})]})]}),f&&e.jsxs(X.Item,{eventKey:"2",children:[e.jsxs(X.Header,{children:[e.jsx(Bn,{size:16,className:"me-2"}),"Element Properties"]}),e.jsxs(X.Body,{children:[e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Content"}),e.jsx(i.Control,{type:"text",value:f.content,onChange:d=>m(s,{content:d.target.value}),className:"bg-dark text-light border-secondary"})]}),f.type==="flight-table"&&e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Data Set Name"}),(()=>{const d=["ScheduleSort","ScheduleSort_1_2","ScheduleSort_2_2","CitySort","CitySort_1_2","CitySort_2_2"],y=f.dataSetName||"",j=!d.includes(y)&&y!=="",E=j?"custom":y;return e.jsxs(e.Fragment,{children:[e.jsxs(i.Select,{value:E,onChange:C=>{C.target.value==="custom"?m(s,{dataSetName:""}):m(s,{dataSetName:C.target.value})},className:"bg-dark text-light border-secondary mb-2",children:[e.jsx("option",{value:"",children:"Select a data set..."}),d.map(C=>e.jsx("option",{value:C,children:C},C)),e.jsx("option",{value:"custom",children:"Other (custom)"})]}),(E==="custom"||j||y==="")&&e.jsx(i.Control,{type:"text",value:y,onChange:C=>m(s,{dataSetName:C.target.value}),placeholder:"Enter custom data set name",className:"bg-dark text-light border-secondary"})]})})(),e.jsx(i.Text,{className:"text-muted",children:"This name will be used to subscribe to the appropriate data feed for this table."})]}),f.type==="flight-table"&&e.jsx("div",{className:"mb-3",children:e.jsx(qn,{columns:f.tableOptions?.columns||[],tableOptions:f.tableOptions||{},onChange:d=>m(s,{tableOptions:{...f.tableOptions,columns:d}}),onTableOptionsChange:d=>m(s,{tableOptions:{...f.tableOptions,...d}})})}),f.type==="flight-table"&&e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Legacy Flight Fields (will be replaced by columns above)"}),Zn.map(d=>e.jsx(i.Check,{type:"checkbox",label:d.label,checked:f.fields?.includes(d.value)||!1,onChange:y=>{const j=f.fields||[],E=y.target.checked?[...j,d.value]:j.filter(C=>C!==d.value);m(s,{fields:E})},className:"text-light"},d.value))]}),f.type==="flight-table"&&e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Check,{type:"checkbox",label:"Row Striping",checked:f.tableOptions?.striped||!1,onChange:d=>m(s,{tableOptions:{...f.tableOptions,striped:d.target.checked}}),className:"text-light"}),e.jsx(i.Check,{type:"checkbox",label:"Hover Effects",checked:f.tableOptions?.hover||!1,onChange:d=>m(s,{tableOptions:{...f.tableOptions,hover:d.target.checked}}),className:"text-light"})]}),f.type==="clock"&&e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{className:"text-light",children:"Clock Settings"}),e.jsxs(i.Select,{value:f.clockFormat||"24h",onChange:d=>m(s,{clockFormat:d.target.value}),className:"bg-dark text-light border-secondary",children:[e.jsx("option",{value:"24h",children:"24 Hour (14:30)"}),e.jsx("option",{value:"12h",children:"12 Hour (2:30 PM)"})]})]}),e.jsx(Xn,{style:f.style,onChange:d=>m(s,{style:d})})]})]})]})})},ta=({element:t,isSelected:s,isEditMode:n,containerWidth:a,containerHeight:l,onElementUpdate:r,onElementSelect:h,onElementDelete:u,children:m})=>{const[p,v]=o.useState(!1),[f,d]=o.useState(!1),[y,j]=o.useState(!1),[E,C]=o.useState({x:0,y:0}),x=o.useRef(null),w=S=>{S.preventDefault(),S.stopPropagation(),v(!0);const V=S.clientX,k=S.clientY,O=t.position.x/100*a,A=t.position.y/100*l,z=G=>{const U=G.clientX-V,Z=G.clientY-k,Y=O+U,_=A+Z,J=Math.max(0,Math.min(100-t.size.width,Y/a*100)),H=Math.max(0,Math.min(100-t.size.height,_/l*100));r(t.id,{position:{x:J,y:H}})},B=()=>{v(!1),document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",B)};document.addEventListener("mousemove",z),document.addEventListener("mouseup",B)},c=(S,V)=>{S.preventDefault(),S.stopPropagation(),d(!0);const k=S.clientX,O=S.clientY,A=t.size.width/100*a,z=t.size.height/100*l,B=t.position.x/100*a,G=t.position.y/100*l,U=Y=>{const _=Y.clientX-k,J=Y.clientY-O;let H=A,K=z,q=B,ne=G;switch(V){case"se":H=Math.max(50,A+_),K=Math.max(30,z+J);break;case"sw":H=Math.max(50,A-_),K=Math.max(30,z+J),q=B+_;break;case"ne":H=Math.max(50,A+_),K=Math.max(30,z-J),ne=G+J;break;case"nw":H=Math.max(50,A-_),K=Math.max(30,z-J),q=B+_,ne=G+J;break}const le=Math.min(100,H/a*100),me=Math.min(100,K/l*100),ae=Math.max(0,q/a*100),ee=Math.max(0,ne/l*100);r(t.id,{size:{width:le,height:me},...V.includes("w")||V.includes("n")?{position:{x:ae,y:ee}}:{}})},Z=()=>{d(!1),document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",Z)};document.addEventListener("mousemove",U),document.addEventListener("mouseup",Z)},g=S=>{!p&&!f&&n&&(S.preventDefault(),S.stopPropagation(),h(t.id))},N=S=>{n&&(S.preventDefault(),S.stopPropagation(),C({x:S.clientX,y:S.clientY}),j(!0),h(t.id))},b=()=>{u&&u(t.id),j(!1)},R=()=>{j(!1)};De.useEffect(()=>{const S=()=>{j(!1)};if(y)return document.addEventListener("click",S),document.addEventListener("contextmenu",S),()=>{document.removeEventListener("click",S),document.removeEventListener("contextmenu",S)}},[y]);const I={cursor:"default",border:s&&n?"2px solid #0066cc":"2px solid transparent",borderRadius:"4px",zIndex:s?1e3:1,width:"100%",height:"100%",position:"relative",...t.style},se=e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:x,style:I,onClick:g,onContextMenu:N,className:`configurable-element ${s?"selected":""} ${p?"dragging":""} ${f?"resizing":""}`,children:[s&&n&&e.jsx("div",{className:"drag-handle",style:{position:"absolute",top:"2px",left:"2px",right:"22px",height:"20px",backgroundColor:"rgba(0, 102, 204, 1)",border:"1px solid rgba(255, 255, 255, 0.4)",borderRadius:"4px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.4)",cursor:"move",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"10px",fontWeight:"bold",zIndex:1001,userSelect:"none"},onMouseDown:w,children:e.jsxs("span",{style:{textShadow:"0 1px 3px rgba(0, 0, 0, 0.8)"},children:["⋮⋮ DRAG ",t.type.toUpperCase()," ⋮⋮"]})}),s&&n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"resize-handle resize-handle-se",style:{position:"absolute",bottom:"-8px",right:"-8px",width:"15px",height:"15px",background:"red",border:"2px solid white",cursor:"se-resize",zIndex:1002},onMouseDown:S=>c(S,"se")}),e.jsx("div",{className:"resize-handle resize-handle-sw",style:{position:"absolute",bottom:"-8px",left:"-8px",width:"15px",height:"15px",background:"red",border:"2px solid white",cursor:"sw-resize",zIndex:1002},onMouseDown:S=>c(S,"sw")}),e.jsx("div",{className:"resize-handle resize-handle-ne",style:{position:"absolute",top:"-8px",right:"-8px",width:"15px",height:"15px",background:"red",border:"2px solid white",cursor:"ne-resize",zIndex:1002},onMouseDown:S=>c(S,"ne")}),e.jsx("div",{className:"resize-handle resize-handle-nw",style:{position:"absolute",top:"-8px",left:"-8px",width:"15px",height:"15px",background:"red",border:"2px solid white",cursor:"nw-resize",zIndex:1002},onMouseDown:S=>c(S,"nw")})]}),e.jsx("div",{style:{paddingTop:s&&n?"24px":"0"},children:m})]}),y&&n&&e.jsx("div",{style:{position:"fixed",left:`${E.x}px`,top:`${E.y}px`,backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.3)",zIndex:1e4,minWidth:"150px"},onClick:R,children:e.jsx("div",{style:{padding:"8px 12px",cursor:"pointer",color:"#dc3545"},onClick:b,onMouseEnter:S=>S.currentTarget.style.backgroundColor="#f8d7da",onMouseLeave:S=>S.currentTarget.style.backgroundColor="white",children:"🗑️ Delete Element"})})]});return n?(console.log("Rendering element:",t.id,"isEditMode:",n,"isSelected:",s),e.jsx("div",{style:{position:"absolute",left:`${t.position.x}%`,top:`${t.position.y}%`,width:`${t.size.width}%`,height:`${t.size.height}%`},children:se})):e.jsx("div",{style:{...I,position:"absolute",left:`${t.position.x}%`,top:`${t.position.y}%`,width:`${t.size.width}%`,height:`${t.size.height}%`},children:m})},sa=(t,s)=>{if(!t)return"";try{let n;if(t.includes(":")){const[h,u]=t.split(":").map(Number);n=new Date,n.setHours(h,u,0,0)}else n=new Date(t);if(isNaN(n.getTime()))return t;const a=s?.timeFormat||"24h",l=s?.showSeconds||!1,r={hour:"numeric",minute:"2-digit",hour12:a==="12h"};return l&&(r.second="2-digit"),n.toLocaleTimeString("en-US",r)}catch{return t}},na=(t,s)=>{if(!t||typeof t!="string")return t||"";switch(s?.textCase||"none"){case"uppercase":return t.toUpperCase();case"lowercase":return t.toLowerCase();case"capitalize":return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();case"none":default:return t}},aa=(t,s)=>{if(!t)return"";try{const n=new Date(t);if(isNaN(n.getTime()))return t;switch(s?.dateFormat||"short"){case"short":return n.toLocaleDateString("en-US",{month:"numeric",day:"numeric"});case"medium":return n.toLocaleDateString("en-US",{month:"short",day:"numeric"});case"long":return n.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});case"custom":return s?.customDateFormat,n.toLocaleDateString("en-US");default:return n.toLocaleDateString("en-US")}}catch{return t}},Oe=(t,s,n)=>{if(t==null)return"";const a=String(t),l=["scheduledTime","actualTime","estimatedTime"],r=["date","scheduleDate","actualDate"];return l.includes(s)?sa(a,n):r.includes(s)?aa(a,n):na(a,n)},oa=({config:t,selectedElement:s,isEditMode:n=!1,onElementSelect:a,onElementUpdate:l,onElementDelete:r})=>{const[h,u]=o.useState(new Date),m=o.useRef(null),[p,v]=o.useState({width:1200,height:800}),f=[{id:"1",type:"departure",flightNumber:"1234",airlineCode:"AA",airline:"American Airlines",destination:"New York",scheduledTime:"14:30",actualTime:"14:35",gate:"A12",status:"Boarding"},{id:"2",type:"departure",flightNumber:"5678",airlineCode:"UA",airline:"United Airlines",destination:"Chicago",scheduledTime:"15:15",gate:"B4",status:"On Time"},{id:"3",type:"arrival",flightNumber:"9012",airlineCode:"DL",airline:"Delta Airlines",destination:"Los Angeles",scheduledTime:"16:20",actualTime:"16:25",gate:"C8",claim:"5",status:"Delayed"},{id:"4",type:"arrival",flightNumber:"3456",airlineCode:"SW",airline:"Southwest",destination:"Los Angeles",scheduledTime:"17:45",gate:"D2",claim:"3",status:"On Time"}],[d]=o.useState(f);o.useEffect(()=>{const x=setInterval(()=>{u(new Date)},1e3);return()=>clearInterval(x)},[]),o.useEffect(()=>{const x=()=>{m.current&&v({width:m.current.offsetWidth,height:m.current.offsetHeight})};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const y=()=>{const{background:x}=t,w={minHeight:"100vh",position:"relative",overflow:"hidden"};switch(x.type){case"color":return{...w,backgroundColor:x.color||"#000000"};case"image":return{...w,backgroundImage:x.imageUrl?`url(${x.imageUrl})`:void 0,backgroundSize:x.imageSize||"cover",backgroundPosition:x.imagePosition||"center center",backgroundRepeat:"no-repeat"};case"video":return w;default:return w}},j=(x,w)=>{l&&l(x,w)},E=x=>{switch(x.type){case"header":return e.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:e.jsx("h1",{style:{margin:0,fontSize:x.style.fontSize},children:x.content})});case"text":return e.jsx("div",{className:"d-flex align-items-center h-100",children:e.jsx("p",{style:{margin:0,fontSize:x.style.fontSize},children:x.content})});case"clock":const w=(b,R="24h")=>R==="12h"?b.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):b.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1});return e.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ks,{size:32,className:"mb-2"}),e.jsx("div",{style:{fontSize:x.style.fontSize},children:w(h,x.clockFormat)})]})});case"weather":return e.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Jn,{size:32,className:"mb-2"}),e.jsx("div",{style:{fontSize:x.style.fontSize},children:"22°C Sunny"})]})});case"flight-table":const c=t.type==="departures"?d.filter(b=>b.type==="departure").slice(0,10):t.type==="arrivals"?d.filter(b=>b.type==="arrival").slice(0,10):d.slice(0,10),N=(x.tableOptions?.columns||(x.fields||["flightNumber","airline","destination","scheduledTime","gate","status"]).map(b=>({field:b,label:b==="flightNumber"?"Flight #":b==="airlineCode"?"Code":b==="scheduledTime"?"Time":b==="actualTime"?"Actual":b==="estimatedTime"?"Est.":b==="destination"&&t.type==="arrivals"?"From":b==="destination"&&t.type==="departures"?"To":b,visible:!0,align:"left",width:"auto",style:{},formatting:{}}))).filter(b=>b.visible);return e.jsxs("div",{className:"overflow-auto h-100",children:[x.dataSetName&&e.jsx("div",{className:"mb-2",children:e.jsxs("small",{className:"text-muted",children:["Data Set: ",e.jsx("span",{className:"badge bg-secondary",children:x.dataSetName})]})}),e.jsxs(ws,{striped:x.tableOptions?.striped,hover:x.tableOptions?.hover,variant:"dark",size:"sm",className:"mb-0",children:[x.tableOptions?.showHeaders!==!1&&e.jsx("thead",{style:x.tableOptions?.headerStyle,children:e.jsx("tr",{children:N.map(b=>e.jsx("th",{className:"text-uppercase",style:{width:b.width,textAlign:b.align,...b.style},children:b.label},b.field))})}),e.jsx("tbody",{children:c.map(b=>e.jsx("tr",{children:N.map(R=>e.jsx("td",{style:{textAlign:R.align,...R.style},children:R.field==="airline"?e.jsx("span",{className:"d-flex align-items-center",children:e.jsx("strong",{children:Oe(b.airline,R.field,R.formatting)})}):R.field==="status"?e.jsx("span",{className:`badge ${b.status==="On Time"?"bg-success":b.status==="Delayed"?"bg-warning":b.status==="Boarding"?"bg-info":b.status==="Departed"?"bg-secondary":"bg-danger"}`,children:Oe(b.status,R.field,R.formatting)}):Oe(b[R.field],R.field,R.formatting)},R.field))},b.id))})]})]});case"image":return e.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:x.content?e.jsx("img",{src:x.content,alt:"Display element",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}):e.jsxs("div",{className:"text-center text-muted",children:[e.jsx("div",{children:"Image Placeholder"}),e.jsx("small",{children:"Configure image URL in properties"})]})});default:return e.jsx("div",{className:"d-flex align-items-center justify-content-center h-100 border border-secondary",children:e.jsx("small",{className:"text-muted",children:"Unknown element type"})})}},C=x=>{if(console.log("Rendering element:",x.id,x.type,"at position:",x.position,"size:",x.size),n)return e.jsx(ta,{element:x,isSelected:s===x.id,isEditMode:n,containerWidth:p.width,containerHeight:p.height,onElementUpdate:j,onElementSelect:a,onElementDelete:r,children:E(x)},x.id);{const w={position:"absolute",left:`${x.position.x}%`,top:`${x.position.y}%`,width:`${x.size.width}%`,height:`${x.size.height}%`,...x.style};return e.jsx("div",{style:w,children:E(x)},x.id)}};return e.jsxs("div",{ref:m,className:"display-preview position-relative",style:y(),onClick:()=>a(null),children:[t.background.type==="video"&&t.background.videoUrl&&e.jsx("video",{autoPlay:t.background.videoAutoplay,loop:t.background.videoLoop,muted:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-2},children:e.jsx("source",{src:t.background.videoUrl})}),(t.background.type==="image"||t.background.type==="video")&&t.background.overlay&&e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:`rgba(0, 0, 0, ${t.background.overlay})`,zIndex:-1}}),t.elements.map(C),t.elements.length===0&&e.jsxs("div",{className:"position-absolute top-50 start-50 translate-middle text-center text-muted",children:[e.jsx("h3",{children:"Display Preview"}),e.jsx("p",{children:"Add elements from the editor to see them here"})]})]})},pt=({value:t,onChange:s,rows:n=15,placeholder:a="Edit JSON...",className:l="",style:r={},fullscreen:h=!1})=>{const u=o.useRef(null),[m,p]=o.useState(!1),v=w=>{if(!w.trim())return m?"":`<span class="json-placeholder">${a}</span>`;try{return w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"([^"\\]|\\.)*"/g,'<span class="json-string">$&</span>').replace(/\b-?\d+\.?\d*([eE][+-]?\d+)?\b/g,'<span class="json-number">$&</span>').replace(/\b(true|false)\b/g,'<span class="json-boolean">$&</span>').replace(/\bnull\b/g,'<span class="json-null">$&</span>').replace(/[{}]/g,'<span class="json-brace">$&</span>').replace(/[\[\]]/g,'<span class="json-bracket">$&</span>').replace(/:/g,'<span class="json-colon">$&</span>').replace(/,/g,'<span class="json-comma">$&</span>')}catch{return w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},f=()=>{const w=window.getSelection();if(!w||w.rangeCount===0||!u.current)return null;const c=w.getRangeAt(0),g=c.cloneRange();return g.selectNodeContents(u.current),g.setEnd(c.endContainer,c.endOffset),g.toString().length},d=w=>{if(!u.current||w===null)return;const c=document.createTreeWalker(u.current,NodeFilter.SHOW_TEXT,null);let g=0,N=null,b=0;for(;c.nextNode();){const R=c.currentNode,I=R.textContent?.length||0;if(g+I>=w){N=R,b=w-g;break}g+=I}if(N){const R=window.getSelection(),I=document.createRange();I.setStart(N,Math.min(b,N.textContent?.length||0)),I.collapse(!0),R?.removeAllRanges(),R?.addRange(I)}};o.useEffect(()=>{if(u.current&&u.current.innerText!==t){const w=f(),c=v(t);u.current.innerHTML=c,w!==null&&setTimeout(()=>d(w),0)}},[t,m,a]);const y=()=>{if(u.current){const w=u.current.innerText||"";s(w)}},j=w=>{w.key==="Tab"&&(w.preventDefault(),document.execCommand("insertText",!1,"  "))},E=()=>{p(!0),u.current&&!t.trim()&&(u.current.innerHTML="")},C=()=>{p(!1)},x={fontSize:"0.75rem",lineHeight:"1.4",fontFamily:'Monaco, Menlo, "Ubuntu Mono", Consolas, source-code-pro, monospace',minHeight:h?"90vh":`${n*1.4}em`,maxHeight:h?"90vh":`${n*1.4}em`,overflowY:"auto",padding:"0.375rem 0.75rem",border:"1px solid var(--bs-border-color)",borderRadius:"0.375rem",whiteSpace:"pre-wrap",wordWrap:"break-word",outline:"none",...h&&{fontSize:"0.85rem",lineHeight:"1.5"},...r};return e.jsx("div",{ref:u,contentEditable:!0,onInput:y,onKeyDown:j,onFocus:E,onBlur:C,className:`json-editor bg-dark text-light border-secondary ${l}`,style:x,spellCheck:!1,suppressContentEditableWarning:!0})},ra={id:"default-display",name:"Flight Display",type:"departures",elements:[{id:"header",type:"header",content:"DEPARTURES",position:{x:0,y:0},size:{width:100,height:8},style:{fontSize:"2.5rem",fontWeight:"bold",color:"#ffffff",textAlign:"center",backgroundColor:"rgba(0, 102, 204, 0.8)",padding:"1rem"}},{id:"flight-table",type:"flight-table",content:"",position:{x:0,y:15},size:{width:100,height:75},fields:["flightNumber","airline","destination","scheduledTime","gate","status"],dataSetName:"departures",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",fontSize:"1rem"},tableOptions:{striped:!0,hover:!0,showHeaders:!0,headerStyle:{backgroundColor:"rgba(0, 102, 204, 0.8)",color:"#ffffff",fontWeight:"bold"},rowStyle:{evenRow:{backgroundColor:"rgba(255, 255, 255, 0.02)"},oddRow:{backgroundColor:"rgba(255, 255, 255, 0.05)"}},columns:[{field:"flightNumber",label:"Flight #",visible:!0,align:"left",width:"15%",style:{},formatting:{}},{field:"airline",label:"Airline",visible:!0,align:"left",width:"25%",style:{},formatting:{}},{field:"destination",label:"To",visible:!0,align:"left",width:"25%",style:{},formatting:{}},{field:"scheduledTime",label:"Time",visible:!0,align:"left",width:"15%",style:{},formatting:{timeFormat:"24h"}},{field:"gate",label:"Gate",visible:!0,align:"center",width:"10%",style:{},formatting:{}},{field:"status",label:"Status",visible:!0,align:"center",width:"10%",style:{},formatting:{}}]}}],background:{type:"color",color:"#001122"},globalStyles:{fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",color:"#ffffff"}},ia=()=>{const[t,s]=o.useState(ra),[n,a]=o.useState("edit"),[l,r]=o.useState(null),[h,u]=o.useState(!1),[m,p]=o.useState(!1),[v,f]=o.useState(""),[d,y]=o.useState(""),[j,E]=o.useState(!1),C=o.useCallback(k=>{s(k)},[]),x=o.useCallback(k=>{r(k)},[]),w=o.useCallback((k,O)=>{s(A=>({...A,elements:A.elements.map(z=>z.id===k?{...z,...O}:z)}))},[]),c=o.useCallback(k=>{s(O=>({...O,elements:O.elements.filter(A=>A.id!==k)})),l===k&&r(null)},[l]),g=()=>{f(JSON.stringify(t,null,2)),y(""),u(!0)},N=()=>{u(!1),y("")},b=()=>{try{const k=JSON.parse(v);if(!k.id||!k.name||!k.type||!Array.isArray(k.elements))throw new Error("Configuration must have required fields: id, name, type, and elements array");s(k),y(""),u(!1)}catch(k){if(k instanceof SyntaxError){const O=k.message.match(/at position (\d+)/);if(O){const A=parseInt(O[1]),z=v.substring(0,A).split(`
`),B=z.length,G=z[z.length-1].length+1;y(`JSON Syntax Error at line ${B}, column ${G}: ${k.message}`)}else y(`JSON Syntax Error: ${k.message}`)}else y(k instanceof Error?k.message:"Invalid configuration format")}},R=()=>{const k=JSON.stringify(t,null,2);f(k),y(""),p(!0)},I=()=>{p(!1)},se=()=>{try{const k=JSON.parse(v);if(!k.id||!k.name||!k.elements||!Array.isArray(k.elements))throw new Error("Invalid configuration format. Must have id, name, and elements array.");s(k),y(""),p(!1)}catch(k){if(k instanceof SyntaxError){const O=k.message.match(/at position (\d+)/);if(O){const A=parseInt(O[1]),z=v.substring(0,A).split(`
`),B=z.length,G=z[z.length-1].length+1;y(`JSON Syntax Error at line ${B}, column ${G}: ${k.message}`)}else y(`JSON Syntax Error: ${k.message}`)}else y(k instanceof Error?k.message:"Invalid configuration format")}},S=()=>{const k=JSON.stringify(t,null,2),O="data:application/json;charset=utf-8,"+encodeURIComponent(k),A=`${t.name.replace(/\s+/g,"_")}_config.json`,z=document.createElement("a");z.setAttribute("href",O),z.setAttribute("download",A),z.click()},V=k=>{const O=k.target.files?.[0];if(O){const A=new FileReader;A.onload=z=>{try{const B=JSON.parse(z.target?.result);s(B)}catch{alert("Invalid configuration file")}},A.readAsText(O)}};return e.jsxs("div",{className:"airport-display configurable-display",children:[e.jsx(Ss,{}),e.jsx(Es,{fluid:!0,className:"h-100 p-0",children:e.jsxs(W,{className:"h-100 g-0",children:[n==="edit"&&!j&&e.jsx(F,{md:3,className:"bg-dark border-end",children:e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("h5",{className:"text-light mb-0",children:"Display Editor"}),e.jsxs("div",{className:"btn-group btn-group-sm",children:[e.jsx(T,{variant:"outline-light",size:"sm",onClick:()=>E(!0),title:"Collapse Editor Panel",children:e.jsx(Rn,{size:16})}),e.jsx(T,{variant:"primary",size:"sm",onClick:()=>a("edit"),children:e.jsx(mt,{size:16})}),e.jsx(T,{variant:"outline-primary",size:"sm",onClick:()=>a("preview"),children:e.jsx(Ce,{size:16})})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(T,{variant:"outline-info",size:"sm",className:"w-100 mb-2",onClick:g,children:[e.jsx(He,{size:16,className:"me-2"}),"Edit JSON Config"]}),e.jsxs(T,{variant:"outline-info",size:"sm",className:"w-100",onClick:R,children:[e.jsx($n,{size:16,className:"me-2"}),"Edit JSON (Fullscreen)"]})]}),h&&e.jsxs("div",{className:"mb-3 p-3 border border-secondary rounded bg-dark",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("h6",{className:"text-light mb-0",children:"Global Configuration JSON Editor"}),e.jsxs("div",{children:[e.jsx(T,{variant:"success",size:"sm",onClick:b,className:"me-2",children:"Apply"}),e.jsx(T,{variant:"secondary",size:"sm",onClick:N,children:"Cancel"})]})]}),d&&e.jsx(Be,{variant:"danger",className:"mb-2 py-2",children:e.jsx("small",{style:{fontFamily:"monospace"},children:d})}),e.jsx(pt,{value:v,onChange:f,rows:15,placeholder:"Edit the complete display configuration...",className:"font-monospace"}),e.jsx("small",{className:"text-muted d-block mt-1",children:"Edit the entire display configuration. Changes will replace the current setup."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(T,{variant:"success",size:"sm",className:"w-100 mb-2",onClick:S,children:[e.jsx(Gn,{size:16,className:"me-2"}),"Save Config"]}),e.jsxs("label",{className:"btn btn-outline-info btn-sm w-100",children:[e.jsx(Vn,{size:16,className:"me-2"}),"Load Config",e.jsx("input",{type:"file",accept:".json",onChange:V,style:{display:"none"}})]})]}),e.jsx(ea,{config:t,selectedElement:l,onConfigChange:C,onElementSelect:x})]})}),e.jsx(F,{md:n==="edit"&&!j?9:12,children:e.jsxs("div",{className:"position-relative h-100",children:[n==="edit"&&j&&e.jsx("div",{className:"position-absolute top-0 start-0 p-2",style:{zIndex:1001},children:e.jsxs("div",{className:"btn-group btn-group-sm",children:[e.jsx(T,{variant:"outline-light",size:"sm",onClick:()=>E(!1),title:"Expand Editor Panel",children:e.jsx(zn,{size:16})}),e.jsx(T,{variant:"outline-primary",size:"sm",onClick:()=>a("preview"),title:"Switch to Preview Mode",children:e.jsx(Ce,{size:16})})]})}),n==="edit"&&!j&&e.jsx("div",{className:"position-absolute top-0 p-2",style:{right:"300px",zIndex:999},children:e.jsxs(T,{variant:"outline-light",size:"sm",onClick:()=>a("preview"),children:[e.jsx(Ce,{size:16,className:"me-2"}),"Preview"]})}),n==="preview"&&e.jsx("div",{className:"position-absolute top-0 start-0 p-2",style:{zIndex:1e3},children:e.jsxs(T,{variant:"outline-light",size:"sm",onClick:()=>a("edit"),children:[e.jsx(mt,{size:16,className:"me-2"}),"Edit"]})}),e.jsx(oa,{config:t,selectedElement:l,isEditMode:n==="edit",onElementSelect:x,onElementUpdate:w,onElementDelete:c})]})})]})}),e.jsxs(xe,{show:m,onHide:I,size:"xl",fullscreen:!0,className:"json-editor-modal",children:[e.jsx(xe.Header,{closeButton:!0,className:"bg-dark text-light border-secondary",children:e.jsxs(xe.Title,{children:[e.jsx(He,{size:20,className:"me-2"}),"Global Configuration JSON Editor (Fullscreen)"]})}),e.jsxs(xe.Body,{className:"bg-dark p-0",children:[d&&e.jsx(Be,{variant:"danger",className:"mb-0 rounded-0",children:e.jsx("small",{style:{fontFamily:"monospace"},children:d})}),e.jsx(pt,{value:v,onChange:f,fullscreen:!0,placeholder:"Edit the complete display configuration...",className:"font-monospace border-0 rounded-0"})]}),e.jsxs(xe.Footer,{className:"bg-dark border-secondary",children:[e.jsx(T,{variant:"success",onClick:se,children:"Apply Changes"}),e.jsx(T,{variant:"secondary",onClick:I,children:"Cancel"})]})]})]})};export{ia as default};
