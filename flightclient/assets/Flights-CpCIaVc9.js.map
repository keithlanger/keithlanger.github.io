{"version":3,"file":"Flights-CpCIaVc9.js","sources":["../../src/utility/apve/FlightMethods.js","../../src/components/apve/FlightDetail.js","../../src/components/apve/FlightModal2.js","../../src/components/Flights.js"],"sourcesContent":["import moment from \"moment\";\r\n\r\nfunction FlightMethods(){\r\n      const imageBaseUrl = \"https://abc.dev.cloudids.aero/images/\";\r\n\r\n     function formatTime(value, timeFormat){\r\n        if (!timeFormat) timeFormat = \"h:mm A\";\r\n        var result = moment(value).format(timeFormat);\r\n        return result;\r\n      }\r\n    \r\n      function getLookup(flight, fields, field, valueType, language){\r\n            if (!valueType) valueType = \"default\";\r\n            if (!language) language = \"en\";\r\n            var dailyValue = getDailyValue(flight, field);\r\n            var key = `${field}/${dailyValue}/${language}/${valueType}`.toLowerCase();\r\n            var result = fields[key]?.value ?? dailyValue;\r\n            return result;\r\n    \r\n      }\r\n    \r\n      function getDailyValue(flight, field) {\r\n        var result = flight?.fields?.[field]?.[0]?.value;\r\n        return result;\r\n      }\r\n    \r\n      function getCodeshareField(flight, field) {\r\n        var result = flight?.fieldGroups?.codeshares?.[0]?.[field]?.value;\r\n        if (!result)\r\n          result = getDailyValue(flight, field);\r\n        return result;\r\n      }\r\n    \r\n      function getFormattedFlight(flight, fields){\r\n          var result = {\r\n              id: flight.id, \r\n              adi: flight?.adi,\r\n              schedule: formatTime(flight?.schedule),\r\n              iata: getDailyValue(flight, \"city\"),\r\n              city: getLookup(flight, fields, \"city\"),\r\n              logo: imageBaseUrl + getCodeshareField(flight, \"logo\"),\r\n              linecode: getCodeshareField(flight, \"linecode\"),\r\n              number: getCodeshareField(flight, \"number\"),\r\n              gate: getDailyValue(flight, \"gate\"),\r\n              status: getLookup(flight, fields, \"status\"),\r\n              statusCode: getDailyValue(flight, \"status\"),\r\n              linecodeNumber: getCodeshareField(flight, \"linecode\") + \" \" + getCodeshareField(flight, \"number\")\r\n          };\r\n          return result;\r\n      } \r\n\r\n      return {getFormattedFlight, formatTime, getLookup, getDailyValue, getCodeshareField};\r\n}\r\n\r\nexport default new FlightMethods();\r\n\r\n","import Card from 'react-bootstrap/Card';\r\nimport { Stack } from 'react-bootstrap';\r\nimport '../SomeCard.scss';\r\nimport FlightMethods from '../../utility/apve/FlightMethods';\r\n\r\nfunction FlightDetail({flight, showFlight, fields}) {\r\n\r\n\r\nvar formattedFlight = FlightMethods.getFormattedFlight(flight, fields);\r\n\r\n\r\n  return (\r\n    <Card className=\"myCard\" onClick={() => showFlight(flight)}>\r\n      <Card.Body>\r\n        <Card.Title>{flight.id} ({flight.adi}) {formattedFlight.linecode}{formattedFlight.number}</Card.Title>\r\n        <Stack>\r\n            <img src={formattedFlight.logo} />\r\n            <div>{formattedFlight.iata}</div>\r\n            <div>{formattedFlight.city}</div>\r\n            <div>{formattedFlight.gate}</div>\r\n            <div>{formattedFlight.status}</div>\r\n            <div>{formattedFlight.schedule}</div>\r\n        </Stack>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default FlightDetail;","import Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { Stack } from 'react-bootstrap';\r\nimport FlightMethods from '../../utility/apve/FlightMethods';\r\nimport Form from 'react-bootstrap/Form';\r\nimport { useEffect, useState } from 'react';\r\nimport { authToken } from '../../utility/Constants';\r\nimport { toast } from 'react-toastify';\r\n\r\n//This version uses form submit and grabs the variables.  It's a bit simpler, since it doesn't use effects or state\r\n\r\nfunction FlightModal({flight: flight, fields: fields, show, handleClose}) {\r\n\r\n    const  dailiesBaseUrl = \"https://abc.dev.cloudids.aero/dailyapi/v3/api/Dailies\";\r\n    const formattedFlight = FlightMethods.getFormattedFlight(flight, fields);\r\n\r\n    const updateFlight = (flight) => {\r\n        console.log(\"Patching flight \" + flight.id);\r\n        const url = dailiesBaseUrl + '/' + flight.id;\r\n        const numRecords = 10;\r\n        fetch(url, {\r\n          method: 'PATCH',\r\n          headers: {\r\n            'Authorization': `Bearer ${authToken}`,\r\n            'Content-Type': 'application/json' // Include if sending JSON data\r\n            // Add other headers as needed\r\n          },\r\n          body: JSON.stringify(flight)\r\n        })\r\n        .then(response => {\r\n            if (!response.ok) {\r\n              throw new Error(`HTTP error! Status: ${response.status}`);\r\n            }\r\n            return response.json();\r\n          })\r\n          .then(data => {\r\n            console.log('Patching flight succeeded - Data:', data);\r\n            // Handle the data\r\n            handleClose();\r\n            toast.success(\"Record was saved successfully\");\r\n          })\r\n          .catch(error => {\r\n            console.error('Error Patching flight:', error);\r\n            toast.error(\"Record did not save successfully.  Error reported: \" + error);\r\n            // Handle errors\r\n          });\r\n    }\r\n\r\n    function getLinecodeNumber() {\r\n        const result = FlightMethods.getCodeshareField(flight, \"linecode\") + \" \" + FlightMethods.getCodeshareField(flight, \"number\");\r\n        return result;\r\n    }\r\n\r\n    function setField(name, value, updatedFields) {\r\n        //for now this only handles instance 1\r\n        var existing = flight.fields[name];\r\n        let shouldUpdate = false;\r\n        if (!existing || existing.length == 0){\r\n            shouldUpdate = true;\r\n        } else\r\n            if (existing[0].value != value) shouldUpdate = true;\r\n\r\n        if (shouldUpdate){\r\n            updatedFields[name] = [{ instance: 1, value: value }];\r\n            flight.fields[name] = updatedFields[name];\r\n        }\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault(); // Prevent default browser refresh\r\n\r\n            console.log(\"Submit\");\r\n            console.log(event.target); \r\n\r\n            const updatedFields = {};\r\n            setField(\"gate\", event.target.gate.value, updatedFields);\r\n            setField(\"city\", event.target.city.value, updatedFields);\r\n            setField(\"status\", event.target.status.value, updatedFields);\r\n\r\n            var newFlight = {id: flight.id, fields: updatedFields};\r\n            console.log(\"Updating flight\");\r\n            console.log(newFlight);\r\n            updateFlight(newFlight);\r\n    };\r\n\r\n\r\n\r\n    return (\r\n            <Modal show={show} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>{getLinecodeNumber()}</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group className=\"mb-3\" controlId=\"id\">\r\n                            <Form.Label>ID</Form.Label>\r\n                            <Form.Control type=\"text\" disabled={true} value={flight.id} />\r\n                        </Form.Group>\r\n                        <Form.Group className=\"mb-3\" controlId=\"linecode_number\">\r\n                            <Form.Label>Flight</Form.Label>\r\n                             <Form.Control type=\"text\" disabled={true} defaultValue={formattedFlight.linecodeNumber} />\r\n                        </Form.Group>\r\n                        <Form.Group className=\"mb-3\" controlId=\"gate\">\r\n                            <Form.Label>Gate</Form.Label>\r\n                            <Form.Control type=\"text\"  defaultValue={formattedFlight.gate} />\r\n                        </Form.Group>\r\n                        <Form.Group className=\"mb-3\" controlId=\"city\">\r\n                            <Form.Label>City</Form.Label>\r\n                            <Form.Control type=\"text\"  defaultValue={formattedFlight.iata} />\r\n                        </Form.Group>\r\n                        <Form.Group className=\"mb-3\" controlId=\"status\">\r\n                            <Form.Label>Status</Form.Label>\r\n                            <Form.Control type=\"text\"  defaultValue={formattedFlight.statusCode} />\r\n                        </Form.Group>\r\n                        <Button type=\"submit\" variant=\"primary\">\r\n                            Save Changes\r\n                        </Button>  \r\n                        <span className=\"p-2\" />                  \r\n                        <Button variant=\"secondary\" onClick={handleClose}>\r\n                            Cancel\r\n                        </Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n\r\n                </Modal.Footer>\r\n            </Modal>\r\n    );\r\n}\r\n\r\nexport default FlightModal;","import Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport FlightDetail from './apve/FlightDetail';\r\nimport { useState, useEffect } from 'react';\r\nimport FlightModal from './apve/FlightModal2';\r\nimport Pagination from 'react-bootstrap/Pagination';\r\nimport { authToken } from '../utility/Constants';\r\n// //generated from https://www.mockaroo.com/14dc7090\r\n// const names = require(\"../data/names3.json\");\r\nimport baseSearchEnvelope from \"../data/SearchEnvelope.json\";\r\nimport fields from \"../data/fields.json\";\r\nimport flightsFromFile from \"../data/flights.json\";\r\nconst searchEnvelope = GetSearchEnvelope(baseSearchEnvelope);\r\n\r\n\r\nconst  dailiesBaseUrl = \"https://abc.dev.cloudids.aero/dailyapi/v3/api/Dailies\";\r\n\r\nfunction GetSearchEnvelope(myEnvelope){\r\n    \r\n    var newEnvelope = JSON.parse(JSON.stringify(myEnvelope));\r\n    const rollOn = 1000;\r\n    const rollOff = -240;\r\n    const dtRef = new Date();\r\n\r\n    const dtStart = addMinutes(dtRef, rollOff);\r\n    const dtEnd = addMinutes(dtRef, rollOn);\r\n    const isoStart = dtStart.toISOString();\r\n    const isoEnd = dtEnd.toISOString();\r\n    const isoNow = dtRef.toISOString()\r\n\r\n    const filter = newEnvelope.filter;\r\n    filter.CompareTo = isoStart;\r\n    filter.CompareToEnd = isoEnd;\r\n    filter.Or[0].CompareTo = isoStart;\r\n    filter.Or[0].CompareToEnd = isoEnd;\r\n    filter.Or[1].CompareTo = isoNow;\r\n\r\n    return newEnvelope;\r\n}\r\n\r\n\r\n\r\nfunction addMinutes(date, minutes) {\r\n    return new Date(date.getTime() + minutes*60000);\r\n}\r\n\r\nfunction Flights() {\r\n\r\n    console.log(\"Using APVe APIs\");\r\n    const [show, setShow] = useState(false);\r\n    const [modalFlight, setModalFlight] = useState({});\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    //use flightsFromFile here if you want to work offline\r\n    //const [flights, setFlights] = useState(flightsFromFile);\r\n    const [flights, setFlights] = useState([]);\r\n\r\n    let itemsPerPage = 15;\r\n    let start = (currentPage - 1) * itemsPerPage;\r\n    //let currentNames = names.slice(start, start + itemsPerPage);\r\n    //let numPages = flights.length === 0 ? 1 : Math.floor((names.length - 1) / itemsPerPage) + 1;\r\n    let numPages = 1;\r\n\r\n    const getRecords = () => {\r\n        console.log(\"Fetching data\");\r\n        const numRecords = 10;\r\n        fetch(dailiesBaseUrl + '/Search?skip=0&orderby=schedule&top=' + numRecords, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${authToken}`,\r\n            'Content-Type': 'application/json' // Include if sending JSON data\r\n            // Add other headers as needed\r\n          },\r\n          body: JSON.stringify(searchEnvelope)\r\n        })\r\n        .then(response => {\r\n            if (!response.ok) {\r\n              throw new Error(`HTTP error! Status: ${response.status}`);\r\n            }\r\n            return response.json();\r\n          })\r\n          .then(data => {\r\n            console.log('Data:', data);\r\n            // Handle the data\r\n            //setRows(data);\r\n            setFlights(data);\r\n          })\r\n          .catch(error => {\r\n            console.error('Error fetching data:', error);\r\n            // Handle errors\r\n          });\r\n    }\r\n\r\n    useEffect(() => {\r\n        getRecords();\r\n\r\n      }, []\r\n    );\r\n\r\n    const handleClose = () => setShow(false);\r\n\r\n\r\n    function ShowFlight(flight){\r\n      setModalFlight(flight);\r\n      setShow(true);\r\n    }\r\n\r\n\r\n    function setPage(page){\r\n        if (page >=1 && page <= numPages){\r\n            console.log(\"Setting page to \" + page);\r\n            setCurrentPage(page);\r\n        } else {\r\n            console.log(\"Not setting page because page is out of range: \" + page);\r\n        }\r\n    }\r\n\r\n    function paginationClicked(event) {\r\n        var itemClicked = parseInt(event.target.text);\r\n        console.log(\"itemClicked: \" + itemClicked);\r\n        //var itemClicked = event.target.dataset.key;\r\n        setPage(itemClicked);\r\n      }\r\n\r\n    console.log(\"Current page: \" + currentPage);\r\n\r\n    let paginationItems = [];\r\n    for (let number = 1; number <= numPages; number++) {\r\n        paginationItems.push(\r\n            <Pagination.Item key={number} active={number === currentPage} onClick={(event) => paginationClicked(event)}>\r\n                {number}\r\n            </Pagination.Item>,\r\n        );\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <Container>\r\n                <Pagination>\r\n                    <Pagination.First onClick={() => setPage(1)} disabled={(currentPage == 1)}/>\r\n                    <Pagination.Prev onClick={() => setPage(currentPage - 1)} disabled={currentPage == 1}/>\r\n                    {paginationItems}\r\n                    <Pagination.Next onClick={() => setPage(currentPage + 1)} disabled={currentPage == numPages}/>\r\n                    <Pagination.Last onClick={() => setPage(numPages)} disabled={currentPage == numPages}/>\r\n                </Pagination>\r\n                {/* This creates a 2 column layout on an xs screen and a 5 column layout on a medium or larger screen.  Alternatively, we could use directives on the Col that set the number of columns to occupy in a 12 column system:  xs={6} md={2} */}\r\n                <Row xs={2} md={5}>\r\n                    {flights.map((flight) =>\r\n                        <Col className=\"mb-3\" key={flight.id}>\r\n                            <FlightDetail flight={flight} fields={fields} showFlight={ShowFlight} />\r\n                        </Col>\r\n                    )}\r\n                </Row>\r\n            </Container>\r\n            <FlightModal show={show} flight={modalFlight} fields={fields} handleClose={handleClose} />\r\n\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Flights;"],"names":["FlightMethods","imageBaseUrl","formatTime","value","timeFormat","result","moment","getLookup","flight","fields","field","valueType","language","dailyValue","getDailyValue","key","_a","_c","_b","getCodeshareField","_d","getFormattedFlight","FlightMethods$1","FlightDetail","showFlight","formattedFlight","jsx","Card","jsxs","Stack","FlightModal","show","handleClose","dailiesBaseUrl","updateFlight","url","authToken","response","data","toast","error","getLinecodeNumber","setField","name","updatedFields","existing","shouldUpdate","handleSubmit","event","newFlight","Modal","Form","Button","searchEnvelope","GetSearchEnvelope","baseSearchEnvelope","myEnvelope","newEnvelope","rollOn","rollOff","dtRef","dtStart","addMinutes","dtEnd","isoStart","isoEnd","isoNow","filter","date","minutes","Flights","setShow","useState","modalFlight","setModalFlight","currentPage","setCurrentPage","flights","setFlights","numPages","getRecords","useEffect","ShowFlight","setPage","page","paginationClicked","itemClicked","paginationItems","number","Pagination","Fragment","Container","Row","Col"],"mappings":"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"}